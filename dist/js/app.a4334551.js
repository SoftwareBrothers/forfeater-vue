(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},n={app:0},a=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0292":function(e,t,r){"use strict";var s=r("f715"),n=r.n(s);n.a},"0a3d":function(e,t,r){},"1ace":function(e,t,r){},"1f99":function(e,t,r){},"282e":function(e,t,r){"use strict";var s=r("3f78"),n=r.n(s);n.a},"2a8b":function(e,t,r){"use strict";var s=r("0a3d"),n=r.n(s);n.a},"3f78":function(e,t,r){},4678:function(e,t,r){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=a(e);return r(t)}function a(e){var t=s[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id="4678"},"4a7e":function(e,t,r){"use strict";var s=r("1ace"),n=r.n(s);n.a},5102:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("2b0e"),n=r("7bb1"),a=r("8a03"),i=r.n(a),o=r("8c4f"),c=(r("7f7f"),r("96cf"),r("3b8d")),l=r("d225"),u=r("b0b4"),d=r("c1df"),m=r.n(d);function v(e){return m()().add(e,"seconds").toISOString()}function h(e){var t=m()(e);return m()().isAfter(t)}var f=r("f499"),p=r.n(f),b=r("bd86"),_=r("2f62"),C=r("308d"),w=r("6bb5"),g=r("4e2b"),k=r("4328"),j=r.n(k),x=r("bc3a"),y=r.n(x),O={common:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"}},P=y.a.create({baseURL:"http://forfeater:3000",headers:O});P.interceptors.response.use(function(e){return e.data},function(e){return z.dispatch("setNotification",{type:"error",message:e.message,code:e.code}),!1});var E,$=P,A=function(){function e(){Object(l["a"])(this,e),Object(b["a"])(this,"token",null),this.initClient()}return Object(u["a"])(e,[{key:"initClient",value:function(){this.client=$,this.initToken()}},{key:"initToken",value:function(){this.token=localStorage.getItem("token")||null,this.token&&(this.client.defaults.headers.common["Authorization"]="Bearer ".concat(this.token))}}]),e}(),N=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(C["a"])(this,Object(w["a"])(t).call(this)),e.uri="auth",e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"authorize",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={grant_type:"password",username:t.username,password:t.password,client_id:Object({NODE_ENV:"production",VUE_APP_API_URL:"http://forfeater:3000",VUE_APP_LOCALE:"en",BASE_URL:"/"}).VUE_APP_API_CLIENT_ID||"forfeaterWeb",client_secret:Object({NODE_ENV:"production",VUE_APP_API_URL:"http://forfeater:3000",VUE_APP_LOCALE:"en",BASE_URL:"/"}).VUE_APP_API_CLIENT_SECRET||"forfeaterSecret"},e.next=3,this.client.post("".concat(this.uri,"/login"),j.a.stringify(r),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserProfile",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.initToken(),e.next=3,this.client.get("".concat(this.uri,"/user"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(A);s["default"].use(_["a"]);var I=new N,S="LOGIN",R="LOGOUT",U="AUTH",V="NOTIFICATION",L="CLEAR_NOTIFICATION",q={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,token:localStorage.getItem("token")||null,notification:null},F={user:function(e){return e.user},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},authStatus:function(e){return e.status},notification:function(e){return e.notification}},H=(E={},Object(b["a"])(E,S,function(e,t){e.user=t}),Object(b["a"])(E,R,function(e){e.user=null,e.token=null}),Object(b["a"])(E,U,function(e,t){e.token=t}),Object(b["a"])(E,V,function(e,t){e.notification=t}),Object(b["a"])(E,L,function(e){e.notification=null}),E),T={authenticate:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.authorize({username:r.username,password:r.password});case 2:if(s=e.sent,!s){e.next=9;break}return n=s.access_token,t.commit(U,n),localStorage.setItem("token",n),localStorage.setItem("token_expires_at",v(s.expires_in)),e.abrupt("return",n);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),logout:function(e){e.commit(R),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("token_expires_at")},getUser:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("token")||null,!r){e.next=9;break}return e.next=4,I.getUserProfile(r);case 4:if(s=e.sent,!s){e.next=9;break}return t.commit(S,s),localStorage.setItem("user",p()(s)),e.abrupt("return",s);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setNotification:function(e,t){e.commit(V,t)},removeNotification:function(e){e.commit(L)}},z=new _["a"].Store({state:q,getters:F,mutations:H,actions:T}),D=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,[{key:"isValid",value:function(){var e=localStorage.getItem("token")||null,t=localStorage.getItem("token_expires_at")||null;return!(!e||h(t))||(z.dispatch("logout"),!1)}}]),e}(),M=new D,Y=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,[{key:"isGuest",value:function(e,t,r){r(!M.isValid())}},{key:"isAdmin",value:function(e,t,r){r(M.isValid()&&"admin"===z.getters.user.role)}},{key:"isAuthenticated",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r,s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={name:"Login",query:{redirect:t.name}},M.isValid()||s(n),e.t0=s,e.next=5,z.dispatch("getUser");case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}},e)}));function t(t,r,s){return e.apply(this,arguments)}return t}()}]),e}(),W=new Y,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container pt-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-8 col-lg-4 mx-auto w-100"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.login()}}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm"},[r("label",{attrs:{for:"username"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("username")},attrs:{id:"username",type:"text",name:"username",placeholder:"Your e-mail address"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("small",{staticClass:"invalid-feedback",attrs:{if:e.errors.has("username")}},[e._v(e._s(e.errors.first("username")))])])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm"},[r("label",{attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("password")},attrs:{id:"password",type:"password",name:"password",placeholder:"Your e-mail address"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("small",{staticClass:"invalid-feedback",attrs:{if:e.errors.has("password")}},[e._v(e._s(e.errors.first("password")))])])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm text-center"},[r("button",{staticClass:"button is-warning",class:{"is-loading":e.loading},attrs:{type:"submit",disabled:e.disabled()}},[e._v("Send")])])])])])])])},B=[],J={data:function(){return{username:"",password:"",loading:!1}},methods:{login:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$store.dispatch("authenticate",{username:this.username,password:this.password});case 3:t=e.sent,t&&(r=this.$route.query.redirect,this.$router.push({name:r||"Home"})),this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),disabled:function(){return 0===this.username.length||0===this.password.length||this.errors.any()||this.loading}},beforeCreate:function(){this.$store.token&&this.$router.push({name:"UserProfile"})}},Z=J,K=r("2877"),Q=Object(K["a"])(Z,G,B,!1,null,null,null),X=Q.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ChoiceAdd")},te=[],re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.orders.length?r("div",[r("div",{staticClass:"mt-3 d-flex flex-row justify-content-center"},e._l(e.orders,function(t,s){return r("div",{key:s,staticClass:"card border-warning mx-2 my-2",on:{click:function(r){e.choice=t.choice||{}}}},[r("div",{staticClass:"card-header text-center"},[r("h2",[e._v(e._s(t.vendor.name))]),r("small",{staticClass:"badge badge-warning"},[t.deadlineAt?r("Countdown",{attrs:{end:t.deadlineAt}}):e._e()],1)]),r("div",{staticClass:"card-body text-dark"},[r("ProductsInputList",{attrs:{order:t,choice:e.choice},on:{"update:choice":function(t){e.choice=t}}})],1),e.isCancel(t)?r("div",{staticClass:"card-footer bg-transparent border-warning"},[r("div",{staticClass:"text-center mt-1"},[r("button",{staticClass:"btn btn-sm btn-danger col-white",on:{click:function(t){return e.removeChoices()}}},[e._v("\n              Cancel\n            ")])])]):e._e()])}),0),r("div",{staticClass:"row justify-content-center mt-4"},[r("div",{staticClass:"col-sm-6"},[r("span",[e._v("Comment:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],staticClass:"form-control border-warning",domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}})])]),r("div",{staticClass:"d-flex justify-content-center mt-4"},[r("button",{staticClass:"btn btn-lg btn-warning col-white",attrs:{disabled:!e.isProductSelected},on:{click:e.sendForm}},[e._v("Send")])])]):e._e()])},se=[],ne=r("e814"),ae=r.n(ne),ie=r("5176"),oe=r.n(ie),ce=r("5d73"),le=r.n(ce),ue=(r("7514"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.products?r("div",e._l(e.products,function(t,s){return r("div",{key:s,staticClass:"custom-control custom-radio product-input-list"},[r("input",{staticClass:"custom-control-input",attrs:{name:"product",id:"product-"+t.id,type:"radio"},domProps:{value:""+t.id,checked:e.isChecked(t)},on:{change:function(r){return e.onSelect(t)}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"product-"+t.id}},[e._v(e._s(t.name))])])}),0):e._e()}),de=[],me={props:{order:{required:!0},choice:{required:!0}},methods:{onSelect:function(e){var t=JSON.parse(p()(this.order));this.$emit("update:choice",oe()(this.choice,{product:e,order:t}))},isChecked:function(e){return this.order.choice.product&&this.order.choice.product.id===e.id}},computed:{products:function(){return this.order.vendor.products}}},ve=me,he=(r("b835"),Object(K["a"])(ve,ue,de,!1,null,"3f273ad6",null)),fe=he.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[e._v(e._s(e._f("two_digits")(e.hours))+":"+e._s(e._f("two_digits")(e.minutes))+":"+e._s(e._f("two_digits")(e.seconds)))])},be=[],_e=(r("84b4"),{props:{end:{type:String,required:!0}},data:function(){return{now:Math.trunc((new Date).getTime()/1e3)}},mounted:function(){var e=this;setInterval(function(){e.now=Math.trunc((new Date).getTime()/1e3)},1e3)},computed:{date:function(){return Math.trunc(Date.parse(this.end)/1e3)},seconds:function(){return(this.date-this.now)%60},minutes:function(){return Math.trunc((this.date-this.now)/60)%60},hours:function(){return Math.trunc((this.date-this.now)/60/60)%24},days:function(){return Math.trunc((this.date-this.now)/60/60/24)}}}),Ce=_e,we=Object(K["a"])(Ce,pe,be,!1,null,null,null),ge=we.exports,ke=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(C["a"])(this,Object(w["a"])(t).call(this)),e.uri="vendors",e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"find",value:function(e,t){return this.client.get("".concat(this.uri,"/").concat(e,"/products/").concat(t))}},{key:"getAll",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e,"/products"))}},{key:"remove",value:function(e,t){return this.client.delete("".concat(this.uri,"/").concat(e,"/products/").concat(t))}},{key:"store",value:function(e){return this.client.post("".concat(this.uri,"/").concat(e.vendorId,"/products"),e)}},{key:"update",value:function(e){return this.client.patch("".concat(this.uri,"/").concat(e.vendorId,"/products/").concat(e.id),e)}},{key:"getAllActiveByVendor",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e,"/products"),{params:{active:1,vendorId:e}})}}]),t}(A),je=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(C["a"])(this,Object(w["a"])(t).call(this)),e.uri="choices",e.productService=new ke,e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"getAllFromOrder",value:function(e){return this.client.get("orders/".concat(e,"/").concat(this.uri))}},{key:"find",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e))}},{key:"getFromOrder",value:function(e){return this.client.get("orders/".concat(e,"/choice"))}},{key:"getFromProduct",value:function(e){return this.client.get("vendors/".concat(e.vendorId,"/products/").concat(e.id,"/choices"))}},{key:"store",value:function(e,t,r,s){return this.client.put("orders/".concat(t.id,"/choices"),{orderId:t.id,userId:e.id,productId:r.id,orderComment:s})}},{key:"save",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r,s,n){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.store(t,r,s,n);case 2:return a=e.sent,e.next=5,this.productService.find(s.vendorId,a.productId);case 5:return i=e.sent,o=a.id,c=void 0===o?null:o,l=a.orderComment,u=void 0===l?null:l,d=a.orderId,e.abrupt("return",{id:c,product:i,comment:u,orderId:d});case 8:case"end":return e.stop()}},e,this)}));function t(t,r,s,n){return e.apply(this,arguments)}return t}()},{key:"rate",value:function(e,t){return this.client.patch("orders/".concat(e,"/ratings"),{mark:t.score,scoreComment:t.comment})}},{key:"remove",value:function(e,t){return this.client.delete("orders/".concat(e,"/choices/").concat(t))}}]),t}(A),xe=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(C["a"])(this,Object(w["a"])(t).call(this)),e.uri="orders",e.productService=new ke,e.choiceService=new je,e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"find",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e))}},{key:"getActive",value:function(){return this.client.get(this.uri,{params:{active:1}})}},{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"getOrderWithChoices",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e,"/choices"))}},{key:"remove",value:function(e){return this.client.delete("".concat(this.uri,"/").concat(e))}},{key:"store",value:function(e){return this.client.post(this.uri,e)}},{key:"update",value:function(e){return this.client.patch("".concat(this.uri,"/").concat(e.id),e)}},{key:"getAllWithProductChoices",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAll();case 2:return t=e.sent,e.abrupt("return",this.getProductChoicesFromOrders(t));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllActiveWithProductChoices",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getActive();case 2:return t=e.sent,e.abrupt("return",this.getProductChoicesFromOrders(t));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getProductChoicesFromOrders",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,s,n,a,i,o,c,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=[],s=!0,n=!1,a=void 0,e.prev=4,i=le()(t);case 6:if(s=(o=i.next()).done){e.next=20;break}return c=o.value,e.next=10,this.productService.getAllActiveByVendor(c.vendor.id);case 10:return c.vendor.products=e.sent,e.next=13,this.getOrderWithChoices(c.id);case 13:l=e.sent,u=l.find(function(e){return e.userId===z.getters.user.id}),c.choice={id:u&&u.id||null,product:u&&u.product||null,comment:u&&u.orderComment||null},r.push(c);case 17:s=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](4),n=!0,a=e.t0;case 26:e.prev=26,e.prev=27,s||null==i.return||i.return();case 29:if(e.prev=29,!n){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",r);case 35:case"end":return e.stop()}},e,this,[[4,22,26,34],[27,,29,33]])}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(A),ye={data:function(){return{orders:[],choice:{order:null,product:null,comment:"",id:null},service:new je,orderService:new xe}},methods:{sendForm:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.choice.product){e.next=5;break}return e.next=3,this.service.save(this.$store.getters.user,this.choice.order,this.choice.product,this.choice.comment);case 3:t=e.sent,t&&(this.$store.dispatch("setNotification",{type:"success",message:this.$t("choices.saved"),code:200}),this.orders.find(function(e){return e.id===t.orderId}).choice=t);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),removeChoices:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,s,n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,r=!1,s=void 0,e.prev=3,n=le()(this.orders);case 5:if(t=(a=n.next()).done){e.next=15;break}if(i=a.value,!i.choice.id){e.next=12;break}return e.next=10,this.service.remove(i.id,i.choice.id);case 10:i.choice={id:null,comment:null,product:null,order:null},this.comment="";case 12:t=!0,e.next=5;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](3),r=!0,s=e.t0;case 21:e.prev=21,e.prev=22,t||null==n.return||n.return();case 24:if(e.prev=24,!r){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[3,17,21,29],[22,,24,28]])}));function t(){return e.apply(this,arguments)}return t}(),beforeDeadline:function(e){return new Date(e.deadlineAt)>new Date},isCancel:function(e){return(this.choice.order&&this.choice.order.id)===e.id&&this.beforeDeadline(e)}},computed:{comment:{get:function(){return this.choice&&this.choice.comment},set:function(e){var t=this.choice||{};this.choice=oe()(t,{comment:e})}},isProductSelected:function(){return this.choice&&this.choice.product}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.orderService.getAllActiveWithProductChoices();case 2:if(t=e.sent,t.length){e.next=5;break}return e.abrupt("return",this.$store.dispatch("setNotification",{type:"warning",message:this.$t("orders.lack"),code:200}));case 5:this.orders=t,r=t.find(function(e){return ae()(e.choice.id)>0}),r&&(this.choice=r.choice,this.choice.order=r);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{ProductsInputList:fe,Countdown:ge}},Oe=ye,Pe=Object(K["a"])(Oe,re,se,!1,null,null,null),Ee=Pe.exports,$e={name:"home",components:{ChoiceAdd:Ee}},Ae=$e,Ne=Object(K["a"])(Ae,ee,te,!1,null,null,null),Ie=Ne.exports,Se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Re=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Gary move out!")]),r("div",{staticClass:"text-center"},[r("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/WcYe1Sd8H_U",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}})])])])])}],Ue={},Ve=Object(K["a"])(Ue,Se,Re,!1,null,null,null),Le=Ve.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item"},[e._v("Choices")]),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Create")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ChoiceForm")],1)])])])},Fe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Create choice")])])])}],He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control w-100"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-4"},[r("label",[e._v("Vendor")]),e.vendorName?r("div",[e._v(e._s(e.vendorName))]):e._e()]),r("div",{staticClass:"col-sm-4"},[r("label",[e._v("Deadline")]),r("div",[e._v(e._s(e._f("moment")(e.order.deadlineAt)))])]),r("div",{staticClass:"col-sm-4"},[r("label",[e._v("Delivery")]),r("div",[e._v(e._s(e._f("moment")(e.order.deliveryAt)))])])])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control w-100"},[r("label",{attrs:{for:"name"}},[e._v("User")]),e.choice.id?e._e():r("UserAutoComplete",{attrs:{user:e.choice.user},on:{"update:user":function(t){return e.$set(e.choice,"user",t)}}}),e.choice.id?r("div",[e._v(e._s(e.choice.user.firstName)+" "+e._s(e.choice.user.lastName)+" ("+e._s(e.choice.user.email)+")")]):e._e()],1)]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control"},[r("label",{attrs:{for:"name"}},[e._v("Product")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.choice.productId,expression:"choice.productId"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{name:"product"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.choice,"productId",t.target.multiple?r:r[0])},function(t){return e.loadProducts()}]}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select Product")]),e._l(e.products,function(t,s){return r("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)])])]),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Comment")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.choice.orderComment,expression:"choice.orderComment"}],staticClass:"form-control border-warning",attrs:{rows:"4"},domProps:{value:e.choice.orderComment},on:{input:function(t){t.target.composing||e.$set(e.choice,"orderComment",t.target.value)}}})])])]),e.choice.id?e._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:e.update}},[e._v("Create")]),e.choice.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:e.update}},[e._v("Save")]):e._e()])},Te=[],ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"form-control",class:{"is-invalid":e.error},attrs:{type:"text",name:"input",placeholder:"Enter Name"},domProps:{value:e.input},on:{input:[function(t){t.target.composing||(e.input=t.target.value)},e.onChange]}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.error))]),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},[e._l(e.results,function(t,s){return r("li",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0,expression:"results.length > 0"}],key:s,staticClass:"autocomplete-result",on:{click:function(r){return e.onSelect(t)}}},[e._v("\n      "+e._s(e.fullName(t))+"\n    ")])}),r("li",{directives:[{name:"show",rawName:"v-show",value:0===e.results.length&&e.input.length>3,expression:"results.length === 0 && input.length > 3"}],staticClass:"autocomplete-error"},[e._v("No result found")])],2)])},De=[],Me=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(C["a"])(this,Object(w["a"])(t).call(this)),e.uri="users",e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"find",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e))}},{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"remove",value:function(e){return this.client.delete("".concat(this.uri,"/").concat(e))}},{key:"store",value:function(e){return this.client.post(this.uri,e)}},{key:"update",value:function(e){return this.client.patch("".concat(this.uri,"/").concat(e.id),e)}},{key:"changePassword",value:function(e,t){return this.client.put("".concat(this.uri,"/").concat(e.id,"/password"),{newPassword:t})}}]),t}(A),Ye={props:{user:{type:Object,required:!1,default:function(){return{id:null,firstName:null,lastName:null,email:null}}}},data:function(){return{input:this.user.email?this.fullName(this.user):"",users:[],results:[],isOpen:!1,error:null,service:new Me}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.getAll();case 2:this.users=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{onSelect:function(e){this.isOpen=!1,this.$emit("update:user",e)},onChange:function(){if(this.input.length<=3)return this.isOpen=!1,void(this.error="Please provide at least 4 characters");this.filterResults(),this.isOpen=!0},filterResults:function(){var e=this;this.results=this.users.filter(function(t){return t.lastName.toLowerCase().indexOf(e.input.toLowerCase())>-1||t.firstName.toLowerCase().indexOf(e.input.toLowerCase())>-1})},fullName:function(e){return"".concat(e.firstName," ").concat(e.lastName," (").concat(e.email,")")}},watch:{user:function(e){this.input=this.fullName(e)}}},We=Ye,Ge=(r("ba5e"),Object(K["a"])(We,ze,De,!1,null,null,null)),Be=Ge.exports,Je={props:{choice:{type:Object,required:!1,default:function(){return{orderId:null,userId:null,productId:null,orderComment:""}}}},data:function(){return{products:null,vendorName:null,order:{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null},selectedProduct:null,user:{id:null,firstName:null,lastName:null,email:null},service:new je,orderService:new xe,productService:new ke}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.orderService.find(this.$route.params.orderId);case 2:return this.order=e.sent,e.next=5,this.productService.getAll(this.order.vendorId);case 5:this.products=e.sent,this.choice.orderId=this.$route.params.orderId;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{update:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(t=e.sent,!t||this.errors.any()){e.next=7;break}return r=this.selectedProduct?this.selectedProduct:this.choice.product,e.next=7,this.service.store(this.choice.user,this.order,r,this.choice.orderComment);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadProducts:function(){var e=this,t=this.products.filter(function(t){if(t.id===e.choice.productId)return t});t.length>0&&(this.selectedProduct=t[0])}},components:{UserAutoComplete:Be}},Ze=Je,Ke=Object(K["a"])(Ze,He,Te,!1,null,null,null),Qe=Ke.exports,Xe={components:{ChoiceForm:Qe}},et=Xe,tt=Object(K["a"])(et,qe,Fe,!1,null,null,null),rt=tt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item"},[e._v("Choices")]),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ChoiceForm",{attrs:{choice:e.choice}})],1)])])])},nt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Edit choice")])])])}],at={data:function(){return{choice:{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null},service:new je}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.find(this.$route.params.choiceId);case 2:this.choice=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{ChoiceForm:Qe}},it=at,ot=Object(K["a"])(it,st,nt,!1,null,null,null),ct=ot.exports,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("div",[e._v("\n          Product:\n          "),r("strong",[e._v(e._s(e.Choice.product.name))])]),r("div",[e._v("\n          Rate:\n          "),r("strong",[e._v(e._s(e.Choice.score))])]),r("div",[e._v("\n          Comment:\n          "),r("strong",[e._v(e._s(e.Choice.scoreComment))])]),r("ScoreForm",{attrs:{score:e.score}})],1)])]),r("div",{staticClass:"d-flex justify-content-center mt-4"},[r("button",{staticClass:"btn btn-lg btn-warning col-white",attrs:{disabled:!e.score.score},on:{click:e.sendForm}},[e._v("Send")])])])},ut=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Score your order")])])])}],dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"margin-top":"20px"}},[r("div",{staticClass:"row justify-content-center mt-4"},[r("div",{staticClass:"col-sm-6"},[r("label",{attrs:{for:"score"}},[e._v("Rate")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.score.score,expression:"score.score"}],staticClass:"custom-select border-warning",attrs:{name:"score"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.score,"score",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Please rate")]),e._l(6,function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})],2)])]),r("div",{staticClass:"row justify-content-center mt-4"},[r("div",{staticClass:"col-sm-6"},[r("span",[e._v("Comment:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.score.comment,expression:"score.comment"}],staticClass:"form-control border-warning",domProps:{value:e.score.comment},on:{input:function(t){t.target.composing||e.$set(e.score,"comment",t.target.value)}}})])])])},mt=[],vt={props:{score:{required:!0,type:Object,default:function(){return{score:null,comment:null}}}}},ht=vt,ft=Object(K["a"])(ht,dt,mt,!1,null,null,null),pt=ft.exports,bt={data:function(){return{score:{score:null,comment:null},Choice:{orderId:null,userId:null,productId:null,orderComment:null,score:null,scoreComment:null,order:{},product:{}},service:new je}},methods:{sendForm:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.score.score){e.next=4;break}return e.next=3,this.service.rate(this.$route.params.id,this.score);case 3:this.Choice=e.sent;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.getFromOrder(this.$route.params.id);case 2:this.Choice=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{ScoreForm:pt}},_t=bt,Ct=Object(K["a"])(_t,lt,ut,!1,null,null,null),wt=Ct.exports,gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active"},[e._v("Users")])])]),e._m(0),r("UserTable",{attrs:{users:e.users},on:{"update:users":function(t){e.users=t}}})],1)},kt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("User list")])])])}],jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.users?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"}),r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"UserCreate"}}},[e._v("Create user")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[e._m(0),e.users?r("tbody",e._l(e.users,function(t,s){return r("tr",{key:s},[r("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.firstName))]),r("td",[e._v(e._s(t.lastName))]),r("td",[e._v(e._s(t.email))]),r("td",[e._v(e._s(t.role))]),r("td",[r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"UserEdit",params:{id:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1),r("button",{staticClass:"btn btn-action d-inline text-danger",on:{click:function(r){return e.remove(t.id,s)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)],1)])}),0):e._e()])])],1),r("div",{staticClass:"col-sm"})])]):e._e()},xt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("#")]),r("th",{attrs:{scope:"col"}},[e._v("First")]),r("th",{attrs:{scope:"col"}},[e._v("Last")]),r("th",{attrs:{scope:"col"}},[e._v("Email")]),r("th",{attrs:{scope:"col"}},[e._v("Role")]),r("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],yt={props:{users:{required:!0}},data:function(){return{service:new Me}},methods:{remove:function(e,t){var r=this;this.service.remove(e).then(function(){r.users.splice(t,1),r.$emit("users:update",r.users)})}}},Ot=yt,Pt=Object(K["a"])(Ot,jt,xt,!1,null,null,null),Et=Pt.exports,$t={data:function(){return{users:null,service:new Me}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.getAll();case 2:this.users=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{UserTable:Et}},At=$t,Nt=Object(K["a"])(At,gt,kt,!1,null,null,null),It=Nt.exports,St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"UserList"}}},[e._v("Users")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Create")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("UserForm")],1),r("div",{staticClass:"col-sm"})])])])},Rt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Create user")])])])}],Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6 custom-control"},[r("label",{attrs:{for:"firstName"}},[e._v("First name")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"},{name:"model",rawName:"v-model",value:e.User.firstName,expression:"User.firstName"}],staticClass:"form-control",attrs:{type:"text",name:"firstName",placeholder:"First name"},domProps:{value:e.User.firstName},on:{input:function(t){t.target.composing||e.$set(e.User,"firstName",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("firstName")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"lastName"}},[e._v("Last name")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"},{name:"model",rawName:"v-model",value:e.User.lastName,expression:"User.lastName"}],staticClass:"form-control",attrs:{type:"text",name:"lastName",placeholder:"Last name"},domProps:{value:e.User.lastName},on:{input:function(t){t.target.composing||e.$set(e.User,"lastName",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("lastName")))])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"role"}},[e._v("Role")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.User.role,expression:"User.role"},{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],staticClass:"custom-select",attrs:{name:"role"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.User,"role",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"null",disabled:""}},[e._v("Select role")]),r("option",{attrs:{value:"admin"}},[e._v("Administrator")]),r("option",{attrs:{value:"user"}},[e._v("User")])]),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("role")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.User.email,expression:"User.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:e.User.email},on:{input:function(t){t.target.composing||e.$set(e.User,"email",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("email")))])])]),e.User.id?e._e():r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:confirmation",expression:"'required|confirmed:confirmation'"},{name:"model",rawName:"v-model",value:e.User.password,expression:"User.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.User.password},on:{input:function(t){t.target.composing||e.$set(e.User,"password",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("password")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"confirmation"}},[e._v("Confirmation")]),r("input",{ref:"confirmation",staticClass:"form-control",attrs:{type:"password",name:"confirmation",placeholder:"Password"}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("confirmation")))])])]),e.User.id?e._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("store")}}},[e._v("Create")]),e.User.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("update")}}},[e._v("Save")]):e._e()])},Vt=[],Lt={props:{User:{type:Object,required:!1,default:function(){return{firstName:null,lastName:null,role:null,email:null,password:null}}}},data:function(){return{service:new Me}},methods:{save:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.errors.any()){e.next=4;break}return e.next=3,this.service[t](this.User);case 3:this.$router.push("/users");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},qt=Lt,Ft=Object(K["a"])(qt,Ut,Vt,!1,null,null,null),Ht=Ft.exports,Tt={components:{UserForm:Ht}},zt=Tt,Dt=Object(K["a"])(zt,St,Rt,!1,null,null,null),Mt=Dt.exports,Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"UserList"}}},[e._v("Users")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("UserForm",{attrs:{User:e.User}})],1),r("div",{staticClass:"col-sm"})])])])},Wt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Edit user")])])])}],Gt={data:function(){return{User:{firstName:null,lastName:null,role:null,email:null,password:null},service:new Me}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.find(this.$route.params.id);case 2:this.User=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{UserForm:Ht}},Bt=Gt,Jt=Object(K["a"])(Bt,Yt,Wt,!1,null,null,null),Zt=Jt.exports,Kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("h2",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))]),r("p",[r("strong",[e._v("E-mail:")]),e._v(" "+e._s(e.user.email))]),r("p",[r("strong",[e._v("Role:")]),e._v(" "+e._s(e.user.role))]),r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"UserChangePassword"}}},[e._v("Change password")])],1),r("div",{staticClass:"col-sm"})])])])},Qt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("My profile")])])])}],Xt={data:function(){return{}},computed:{user:function(){return this.$store.getters.user}},created:function(){}},er=Xt,tr=Object(K["a"])(er,Kt,Qt,!1,null,null,null),rr=tr.exports,sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[e.alert?r("ErrorAlert",{attrs:{message:e.alert,title:null}}):e._e(),r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:confirmation",expression:"'required|confirmed:confirmation'"},{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("password")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"confirmation"}},[e._v("Confirmation")]),r("input",{ref:"confirmation",staticClass:"form-control",attrs:{type:"password",name:"confirmation",placeholder:"Password"}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("confirmation")))])])]),r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:e.changePassword}},[e._v("Update")])])],1)])])])},nr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Change Password")])])])}],ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.content||e.title?r("b-message",{attrs:{title:e.title,type:"is-danger"}},[e._v(e._s(e.content))]):e._e()},ir=[],or=s["default"].extend({name:"ErrorAlert",props:{content:{type:String,required:!1,default:null},title:{type:String,required:!1,default:"🤕 Error, szwagier"}}}),cr=or,lr=Object(K["a"])(cr,ar,ir,!1,null,null,null),ur=lr.exports,dr={data:function(){return{User:null,newPassword:null,service:new Me,alert:""}},methods:{changePassword:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.errors.any()){e.next=4;break}return e.next=3,this.service.changePassword(this.User,this.newPassword);case 3:this.$router.go("-1");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.User=this.$store.getters.user},components:{ErrorAlert:ur}},mr=dr,vr=Object(K["a"])(mr,sr,nr,!1,null,null,null),hr=vr.exports,fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Vendors")])])]),e._m(0),r("VendorTable",{attrs:{vendors:e.vendors},on:{"update:vendors":function(t){e.vendors=t}}})],1)},pr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Vendor list")])])])}],br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.vendors?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"}),r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"VendorCreate"}}},[e._v("Create vendor")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[e._m(0),e.vendors?r("tbody",e._l(e.vendors,function(t,s){return r("tr",{key:s},[r("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.name))]),r("td",[e._v(e._s(t.url))]),r("td",[r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ProductList",params:{vendorId:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"list"}})],1),r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"VendorEdit",params:{id:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1),r("button",{staticClass:"btn btn-action d-inline text-danger",attrs:{href:""},on:{click:function(r){return e.remove(t.id,s)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)],1)])}),0):e._e()])])],1),r("div",{staticClass:"col-sm"})])]):e._e()},_r=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("#")]),r("th",{attrs:{scope:"col"}},[e._v("Name")]),r("th",{attrs:{scope:"col"}},[e._v("Url")]),r("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],Cr=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(C["a"])(this,Object(w["a"])(t).call(this)),e.uri="/vendors",e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"find",value:function(e){return this.client.get("".concat(this.uri,"/").concat(e))}},{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"getTodayVendor",value:function(){var e=this.getAll();return e[0]||null}},{key:"remove",value:function(e){return this.client.delete("".concat(this.uri,"/").concat(e))}},{key:"store",value:function(e){return this.client.post(this.uri,e)}},{key:"update",value:function(e){return this.client.patch("".concat(this.uri,"/").concat(e.id),e)}}]),t}(A),wr={props:{vendors:{required:!0}},data:function(){return{service:new Cr}},methods:{remove:function(e,t){var r=this;this.service.remove(e).then(function(){r.vendors.splice(t,1),r.$emit("vendors.update",r.vendors)})}}},gr=wr,kr=Object(K["a"])(gr,br,_r,!1,null,null,null),jr=kr.exports,xr={data:function(){return{vendors:{},service:new Cr}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.getAll();case 2:this.vendors=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{VendorTable:jr}},yr=xr,Or=Object(K["a"])(yr,fr,pr,!1,null,null,null),Pr=Or.exports,Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Create")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("VendorForm")],1),r("div",{staticClass:"col-sm"})])])])},$r=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Create vendor")])])])}],Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6 custom-control"},[r("label",{attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.Vendor.name,expression:"Vendor.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"name"},domProps:{value:e.Vendor.name},on:{input:function(t){t.target.composing||e.$set(e.Vendor,"name",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("name")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"name"}},[e._v("Website")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"url",expression:"'url'"},{name:"model",rawName:"v-model",value:e.Vendor.url,expression:"Vendor.url"}],staticClass:"form-control",attrs:{type:"text",name:"url",placeholder:"url"},domProps:{value:e.Vendor.url},on:{input:function(t){t.target.composing||e.$set(e.Vendor,"url",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("url")))])])]),e.Vendor.id?e._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("store")}}},[e._v("\n    Create\n  ")]),e.Vendor.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("update")}}},[e._v("Save")]):e._e()])},Nr=[],Ir={props:{Vendor:{type:Object,required:!1,default:function(){return{name:null,url:null}}}},data:function(){return{service:new Cr}},methods:{save:function(e){var t=this;this.errors.any()||this.service[e](this.Vendor).then(function(){t.$router.push("/vendors")})}}},Sr=Ir,Rr=Object(K["a"])(Sr,Ar,Nr,!1,null,null,null),Ur=Rr.exports,Vr={components:{VendorForm:Ur}},Lr=Vr,qr=Object(K["a"])(Lr,Er,$r,!1,null,null,null),Fr=qr.exports,Hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[e._v(e._s(e.Vendor.name))]),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("VendorForm",{attrs:{Vendor:e.Vendor}})],1),r("div",{staticClass:"col-sm"})])])])},Tr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Edit vendor")])])])}],zr={data:function(){return{Vendor:{name:null,url:null},service:new Cr}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.find(this.$route.params.id);case 2:this.Vendor=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{VendorForm:Ur}},Dr=zr,Mr=Object(K["a"])(Dr,Hr,Tr,!1,null,null,null),Yr=Mr.exports,Wr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[e._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("ProductTable",{attrs:{products:e.products}})],1)},Gr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Product list")])])])}],Br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.products?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"}),r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"ProductCreate"}}},[e._v("Create product")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[e._m(0),e.products?r("tbody",e._l(e.products,function(t,s){return r("tr",{key:s},[r("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.name))]),r("td",[e._v(e._s(t.avgScore))]),r("td",[e._v(e._s(t.rankCount))]),r("td",[r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ProductShow",params:{vendorId:t.vendorId,id:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"list"}})],1),r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"ProductEdit",params:{vendorId:t.vendorId,id:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1),r("a",{staticClass:"btn-action d-inline text-danger",attrs:{href:""},on:{click:function(r){return e.remove(t.id,s)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)],1)])}),0):e._e()])])],1),r("div",{staticClass:"col-sm"})])]):e._e()},Jr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("#")]),r("th",{attrs:{scope:"col"}},[e._v("Name")]),r("th",{attrs:{scope:"col"}},[e._v("Rate")]),r("th",{attrs:{scope:"col"}},[e._v("Votes")]),r("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],Zr={props:{products:{required:!0}},data:function(){return{service:new ke}},methods:{remove:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.remove(this.$route.params.vendorId,t);case 2:this.products.splice(r,1);case 3:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}},Kr=Zr,Qr=Object(K["a"])(Kr,Br,Jr,!1,null,null,null),Xr=Qr.exports,es={data:function(){return{products:[],service:new ke}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.getAll(this.$route.params.vendorId);case 2:this.products=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{ProductTable:Xr}},ts=es,rs=Object(K["a"])(ts,Wr,Gr,!1,null,null,null),ss=rs.exports,ns=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[e._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Create")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ProductForm")],1),r("div",{staticClass:"col-sm"})])])])},as=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Create product")])])])}],is=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control col-sm-9 col-md-10"},[e._m(0),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.Product.name,expression:"Product.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"name"},domProps:{value:e.Product.name},on:{input:function(t){t.target.composing||e.$set(e.Product,"name",t.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("name")))])]),r("div",{staticClass:"form-group custom-control col-sm-3 col-md-2"},[e._m(1),r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.Product.active,expression:"Product.active"}],staticClass:"form-check-input",attrs:{type:"radio",name:"active",id:"active1",value:"1",checked:""},domProps:{checked:e._q(e.Product.active,"1")},on:{change:function(t){return e.$set(e.Product,"active","1")}}}),r("label",{staticClass:"form-check-label",attrs:{for:"active1"}},[e._v("Yes")])]),r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.Product.active,expression:"Product.active"}],staticClass:"form-check-input",attrs:{type:"radio",name:"active",id:"active0",value:"0"},domProps:{checked:e._q(e.Product.active,"0")},on:{change:function(t){return e.$set(e.Product,"active","0")}}}),r("label",{staticClass:"form-check-label",attrs:{for:"active0"}},[e._v("No")])]),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("active")))])])]),e.Product.id?e._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("store")}}},[e._v("\n    Create\n  ")]),e.Product.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("update")}}},[e._v("Save")]):e._e()])},os=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{attrs:{for:"name"}},[e._v("Name")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{attrs:{for:"name"}},[e._v("Active")])])}],cs={props:{Product:{type:Object,required:!1,default:function(){return{vendorId:null,name:null,active:null}}}},data:function(){return{service:new ke}},created:function(){this.Product.vendorId=this.$route.params.vendorId},methods:{save:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.errors.any()){e.next=4;break}return e.next=3,this.service[t](this.Product);case 3:this.$router.push("/vendors/"+this.Product.vendorId+"/products");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},ls=cs,us=Object(K["a"])(ls,is,os,!1,null,null,null),ds=us.exports,ms={components:{ProductForm:ds}},vs=ms,hs=Object(K["a"])(vs,ns,as,!1,null,null,null),fs=hs.exports,ps=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[e._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[r("router-link",{attrs:{to:{name:"ProductShow",params:{vendorId:this.$route.params.vendorId,productId:this.$route.params.id}}}},[e._v("\n          "+e._s(e.Product.name)+"\n        ")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ProductForm",{attrs:{Product:e.Product}})],1),r("div",{staticClass:"col-sm"})])])])},bs=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Edit product")])])])}],_s={data:function(){return{Product:{name:null,active:null},service:new ke}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.find(this.$route.params.vendorId,this.$route.params.id);case 2:this.Product=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{ProductForm:ds}},Cs=_s,ws=Object(K["a"])(Cs,ps,bs,!1,null,null,null),gs=ws.exports,ks=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[e._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.Product.name))])])]),r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Product: "+e._s(e.Product.name))])])]),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[r("div",[e._v("Name: "+e._s(e.Product.name))]),e.Product.vendor?r("div",[e._v("Vendor: "+e._s(e.Product.vendor.name))]):e._e(),r("div",[e._v("Rate: "+e._s(e.Product.avgScore))]),r("div",[e._v("Votes: "+e._s(e.Product.rankCount))])]),r("div",{staticClass:"col-sm-6"},e._l(e.choices,function(t,s){return r("div",{key:s},[r("div",[e._v("User: "+e._s(t.user.firstName+" "+t.user.lastName))]),r("div",[e._v("Rate: "+e._s(t.score))]),r("div",[e._v("Comment: "+e._s(t.scoreComment))])])}),0)])])])},js=[],xs={data:function(){return{Product:{name:null,active:null},choices:[],service:new je,productService:new ke}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.productService.find(this.$route.params.vendorId,this.$route.params.id);case 2:return this.Product=e.sent,e.next=5,this.service.getFromProduct(this.Product);case 5:t=e.sent,this.choices=t.filter(function(e){return null!=e.score||null!=e.scoreComment});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},ys=xs,Os=Object(K["a"])(ys,ks,js,!1,null,null,null),Ps=Os.exports,Es=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active"},[e._v("Orders")])])]),e._m(0),r("OrderTable",{attrs:{orders:e.orders}})],1)},$s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Order list")])])])}],As=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.orders?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"OrderCreate"}}},[e._v("Create order")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[e._m(0),e.orders?r("tbody",e._l(e.orders,function(t,s){return r("tr",{key:s,class:{"no-active":!e.isActive(t)}},[r("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.vendor.name))]),r("td",[e._v(e._s(t.choice.product?t.choice.product.name:""))]),r("td",[e._v(e._s(e._f("moment")(t.deadlineAt)))]),r("td",[e._v(e._s(e._f("moment")(t.deliveryAt)))]),r("td",[e._v(e._s(t.user.firstName)+" "+e._s(t.user.lastName))]),r("td",[r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ChoiceList",params:{orderId:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"list"}})],1),t.choice.product?r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"ChoiceScore",params:{id:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"comment"}})],1):e._e(),e.user&&"admin"==e.user.role?r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"OrderEdit",params:{id:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1):e._e(),e.user&&"admin"==e.user.role?r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ChoiceCreate",params:{orderId:t.id}}}},[r("font-awesome-icon",{attrs:{icon:"plus"}})],1):e._e(),e.user&&"admin"==e.user.role?r("a",{staticClass:"btn-action d-inline text-danger",attrs:{href:""},on:{click:function(r){return e.remove(t.id,s,r)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1):e._e()],1)])}),0):e._e()])])],1),r("div",{staticClass:"col-sm"})])]):e._e()},Ns=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("#")]),r("th",{attrs:{scope:"col"}},[e._v("Vendor")]),r("th",{attrs:{scope:"col"}},[e._v("My choice")]),r("th",{attrs:{scope:"col"}},[e._v("Deadline")]),r("th",{attrs:{scope:"col"}},[e._v("Delivery")]),r("th",{attrs:{scope:"col"}},[e._v("Creator")]),r("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],Is={props:{orders:{required:!0}},data:function(){return{service:new xe}},methods:{remove:function(e,t){var r=this;this.service.remove(e).then(function(){r.orders.splice(t,1)})},isActive:function(e){return new Date(e.deadlineAt).getTime()>(new Date).getTime()}},computed:{user:function(){return this.$store.getters.user}}},Ss=Is,Rs=(r("4a7e"),Object(K["a"])(Ss,As,Ns,!1,null,"1e1f109f",null)),Us=Rs.exports,Vs={data:function(){return{orders:[],service:new xe}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.getAllWithProductChoices();case 2:this.orders=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{OrderTable:Us}},Ls=Vs,qs=Object(K["a"])(Ls,Es,$s,!1,null,null,null),Fs=qs.exports,Hs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Create")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("OrderForm")],1)])])])},Ts=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Create order")])])])}],zs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"needs-validation"},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-12 custom-control"},[r("label",{attrs:{for:"name"}},[e._v("Vendor")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.Order.vendorId,expression:"Order.vendorId"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select",attrs:{name:"vendorId"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.Order,"vendorId",t.target.multiple?r:r[0])},function(t){return e.loadProducts()}]}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select Vendor")]),e._l(e.vendors,function(t,s){return r("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})],2),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("vendorId")))]),r("ProductCheckboxList",{attrs:{products:e.products,checkedProducts:e.checkedProducts},on:{productsSelected:e.productsSelected}}),r("input",{directives:[{name:"validate",rawName:"v-validate:length",value:"min_value:1",expression:"'min_value:1'",arg:"length"}],attrs:{type:"hidden",name:"checkedProducts"}})],1)]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6 custom-control"},[r("label",{attrs:{for:"name"}},[e._v("Deadline")]),r("div",[r("flat-pickr",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"deadlineAt",staticClass:"form-control",attrs:{config:e.config,placeholder:"Select date",name:"deadlineAt"},model:{value:e.Order.deadlineAt,callback:function(t){e.$set(e.Order,"deadlineAt",t)},expression:"Order.deadlineAt"}})],1),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("deadlineAt")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"name"}},[e._v("Delivery")]),r("div",[r("flat-pickr",{staticClass:"form-control",attrs:{config:e.config,placeholder:"Select date",name:"deliveryAt"},model:{value:e.Order.deliveryAt,callback:function(t){e.$set(e.Order,"deliveryAt",t)},expression:"Order.deliveryAt"}}),r("div",{staticClass:"invalid-feedback-not-work"},[e._v(e._s(e.errors.first("deliveryAt")))])],1)])]),e.Order.id?e._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("store")}}},[e._v("Create")]),e.Order.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:e.errors.has()},on:{click:function(t){return e.save("update")}}},[e._v("Save")]):e._e()])},Ds=[],Ms=(r("c5f6"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.products?r("ul",{staticClass:"list-group list-group-flush"},e._l(e.products,function(t,s){return r("li",{key:s,staticClass:"list-group-item"},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedProducts,expression:"checkedProducts"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"product-"+s,id:"product-"+s},domProps:{value:t.id,checked:t.active,checked:Array.isArray(e.checkedProducts)?e._i(e.checkedProducts,t.id)>-1:e.checkedProducts},on:{change:[function(r){var s=e.checkedProducts,n=r.target,a=!!n.checked;if(Array.isArray(s)){var i=t.id,o=e._i(s,i);n.checked?o<0&&(e.checkedProducts=s.concat([i])):o>-1&&(e.checkedProducts=s.slice(0,o).concat(s.slice(o+1)))}else e.checkedProducts=a},function(t){return e.onChange()}]}}),r("label",{staticClass:"form-check-label",attrs:{for:"product-"+s}},[e._v(e._s(t.name))])])])}),0):e._e()}),Ys=[],Ws={props:{products:{required:!0},checkedProducts:{required:!0,default:function(){return[]}}},methods:{onChange:function(){this.$emit("productsSelected",this.checkedProducts)}}},Gs=Ws,Bs=Object(K["a"])(Gs,Ms,Ys,!1,null,null,null),Js=Bs.exports,Zs=r("c38f"),Ks=r.n(Zs),Qs={props:{products:{required:!1},Order:{type:Object,required:!1,default:function(){return{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null}}}},data:function(){return{vendors:{},checkedProducts:[],config:{wrap:!0,altFormat:"Y-m-d H:i",altInput:!0,dateFormat:"Z",enableTime:!0,time_24hr:!0},service:new xe,vendorService:new Cr,productService:new ke}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.vendorService.getAll();case 2:this.vendors=e.sent,this.loadProducts();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:r=e.sent,this.sendProducts(),r&&!this.errors.any()&&(this.Order.userId=this.user.id,this.service[t](this.Order).then(function(){s.$router.push("/orders")}));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadProducts:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.productService.getAll(this.Order.vendorId);case 2:t=e.sent,this.products=t,this.checkedProducts=t.filter(function(e){return e.active}).map(function(e){return e.id});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),productsSelected:function(e){this.checkedProducts=e},sendProducts:function(){var e=this;this.products.length&&this.products.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r.active=Number(-1!==e.checkedProducts.indexOf(r.id)),t.next=3,e.productService.update(r);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},computed:{user:function(){return this.$store.getters.user}},watch:{user:function(){void 0===this.Order.id&&(this.Order.userId=this.user.id)}},components:{ProductCheckboxList:Js,flatPickr:Ks.a}},Xs=Qs,en=(r("6453"),Object(K["a"])(Xs,zs,Ds,!1,null,"756366f5",null)),tn=en.exports,rn={components:{OrderForm:tn}},sn=rn,nn=Object(K["a"])(sn,Hs,Ts,!1,null,null,null),an=nn.exports,on=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Edit")])])]),e._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("OrderForm",{attrs:{Order:e.Order}})],1),r("div",{staticClass:"col-sm"})])])])},cn=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v("Edit order")])])])}],ln={data:function(){return{products:null,Order:{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null},service:new xe,productService:new ke}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.find(this.$route.params.id);case 2:this.Order=e.sent,this.loadProducts();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{loadProducts:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.productService.getAll(this.Order.vendorId);case 2:this.products=e.sent,this.checkedProducts=this.products.filter(function(e){return e.active}).map(function(e){return e.id});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{OrderForm:tn}},un=ln,dn=Object(K["a"])(un,on,cn,!1,null,null,null),mn=dn.exports,vn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("nav",{staticClass:"d-print-none",attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderEdit",params:{id:this.$route.params.orderId}}}},[e._v("Order")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Choices")])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-auto mr-auto"}),r("div",{staticClass:"col-auto"},[r("Print",[r("template",{slot:"buttonText"},[e._v("\n          Print Order\n        ")])],2)],1)]),r("hr"),r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[e._v(e._s(e.vendor&&e.vendor.name)+" "+e._s(e._f("moment")(e.order&&e.order.deliveryAt)))])])]),r("ChoiceTable",{attrs:{choices:e.choices,tableData:e.tableData}})],1)},hn=[],fn=(r("55dd"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.choices.length?r("div",[r("v-client-table",{attrs:{data:e.tableData,columns:e.columns,options:e.options},scopedSlots:e._u([{key:"edit",fn:function(t){return e.user&&"admin"===e.user.role?r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"ChoiceEdit",params:{orderId:t.row.orderId,choiceId:t.row.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1):e._e()}},{key:"delete",fn:function(t){return e.user&&"admin"===e.user.role?r("a",{staticClass:"btn-action d-inline text-danger",attrs:{href:"#"},on:{click:function(r){return e.remove(t.row.id,t.row.index)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1):e._e()}}],null,!0)})],1):r("div",[r("h4",{staticClass:"text-center"},[e._v("There is no choice!")])])}),pn=[],bn={props:{choices:{required:!0,type:Array},tableData:{required:!0}},data:function(){return{columns:["userFullName","productName","orderComment","edit","delete"],options:{headings:{userFullName:"User",productName:"Product",orderComment:"Comment",edit:"Edit",delete:"Delete"},perPage:30,perPageValues:[10,30,50,100],skin:"table table-sm table-hover table-bordered table-striped"},service:new je}},methods:{remove:function(e,t){var r=this;this.service.remove(this.$route.params.orderId,e).then(function(){r.choices.splice(t,1)})}},computed:{user:function(){return this.$store.getters.user}}},_n=bn,Cn=Object(K["a"])(_n,fn,pn,!1,null,null,null),wn=Cn.exports,gn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-outline-info text-center",on:{click:function(t){return e.doPrint()}}},[e._t("buttonText"),r("font-awesome-icon",{attrs:{icon:"print"}})],2)},kn=[],jn={name:"Print",methods:{doPrint:function(){window.print()}}},xn=jn,yn=(r("2a8b"),Object(K["a"])(xn,gn,kn,!1,null,"51b9ebcb",null)),On=yn.exports,Pn={data:function(){return{choices:[],tableData:[],vendor:null,order:null,service:new je,vendorService:new Cr,orderService:new xe}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.orderService.find(this.$route.params.orderId);case 2:return this.order=e.sent,e.next=5,this.vendorService.find(this.order.vendorId);case 5:return this.vendor=e.sent,e.next=8,this.service.getAll(this.$route.params.orderId);case 8:t=e.sent,this.choices=t.sort(function(e,t){return e.productId-t.productId}).map(function(e,t){return oe()({},e,{index:t,userFullName:"".concat(e.user.lastName," ").concat(e.user.firstName),productName:e.product.name})}),this.tableData=this.choices;case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),components:{ChoiceTable:wn,Print:On}},En=Pn,$n=(r("0292"),Object(K["a"])(En,vn,hn,!1,null,null,null)),An=$n.exports;s["default"].use(o["a"]);var Nn,In=new o["a"]({mode:"history",routes:[{path:"*",component:Le},{path:"/login",name:"Login",component:X,beforeEnter:W.isGuest},{path:"/",name:"Home",component:Ie,beforeEnter:W.isAuthenticated},{path:"/order",name:"ChoiceAdd",component:Ee,beforeEnter:W.isAuthenticated},{path:"/user/my-profile",name:"UserProfile",component:rr,beforeEnter:W.isAuthenticated},{path:"/user/change-password",name:"UserChangePassword",component:hr,beforeEnter:W.isAuthenticated},{path:"/users",name:"UserList",component:It,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/users/create",name:"UserCreate",component:Mt,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/users/:id/edit",name:"UserEdit",component:Zt,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors",name:"VendorList",component:Pr,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/create",name:"VendorCreate",component:Fr,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:id/edit",name:"VendorEdit",component:Yr,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products",name:"ProductList",component:ss,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products/create",name:"ProductCreate",component:fs,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products/:id/edit",name:"ProductEdit",component:gs,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products/:id",name:"ProductShow",component:Ps,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/orders",name:"OrderList",component:Fs,beforeEnter:W.isAuthenticated},{path:"/orders/create",name:"OrderCreate",component:an,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/orders/:id/edit",name:"OrderEdit",component:mn,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/orders/:orderId/choices",name:"ChoiceList",component:An,beforeEnter:W.isAuthenticated},{path:"/orders/:orderId/choices/create",name:"ChoiceCreate",component:rt,beforeEnter:W.isAuthenticated},{path:"/orders/:orderId/choices/:choiceId/edit",name:"ChoiceEdit",component:ct,beforeEnter:W.isAuthenticated},{path:"/orders/:id/score",name:"ChoiceScore",component:wt,beforeEnter:W.isAuthenticated}]}),Sn=r("a925"),Rn={choices:{saved:"You order has been stored!"},orders:{lack:"There is no restaurants available for today"},errors:{auth:{general:"Sorry, something went wrong"}}},Un={choices:{saved:"Twoje zamównie zostało zapisane!"},errors:{auth:{general:"Coś poszło nie tak, spróbuj ponownie"}},orders:{lack:"Brak wyboru restauracji"}},Vn=(Nn={},Object(b["a"])(Nn,"en",Rn),Object(b["a"])(Nn,"pl",Un),Nn);s["default"].use(Sn["a"]);var Ln=new Sn["a"]({locale:"en",messages:Vn}),qn=(r("6b54"),r("c1df"));s["default"].filter("two_digits",function(e){return e.toString().length<=1?"0"+e.toString():e.toString()}),s["default"].filter("moment",function(e){return e?qn(e).format("DD/MM/YYYY HH:mm"):null});var Fn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header"),r("Notification"),r("main",{attrs:{role:"main"}},[r("router-view")],1),r("Footer")],1)},Hn=[],Tn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("nav",{staticClass:"navbar navbar-expand-md navbar-dark justify-content-between"},[s("router-link",{staticClass:"navbar-brand p-0",attrs:{to:{name:"Home"}}},[s("img",{staticClass:"navbar-logo",attrs:{src:r("9d64"),alt:"logo"}}),e._v(" Forfeater\n    ")]),e._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[e.user?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"OrderList"}}},[e._v("Orders")])],1):e._e(),e.user&&"admin"==e.user.role?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"VendorList"}}},[e._v("Vendors")])],1):e._e(),e.user&&"admin"==e.user.role?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserList"}}},[e._v("Users")])],1):e._e(),e.user?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserProfile"}}},[e._v("Profile")])],1):e._e()])]),e.user?s("div",[s("div",{staticClass:"nav-user"},[e._v("\n        Hello,\n        "),s("strong",[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserProfile"}}},[e._v(e._s(e.user.firstName))])],1)]),s("button",{staticClass:"btn btn-outline-light",on:{click:function(t){return e.logout()}}},[e._v("Logout")])]):e._e()],1)])},zn=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}],Dn={methods:{logout:function(){this.$store.dispatch("logout");var e="Home"!==this.$router.currentRoute.name?"Home":"Login";this.$router.push({name:e})}},computed:{user:function(){return this.$store.getters.user}}},Mn=Dn,Yn=(r("282e"),Object(K["a"])(Mn,Tn,zn,!1,null,"46c90655",null)),Wn=Yn.exports,Gn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Bn=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"footer"},[r("div",{staticClass:"container"},[r("span",{},[e._v("Made by Nodiro Team.")])])])}],Jn={},Zn=Object(K["a"])(Jn,Gn,Bn,!1,null,null,null),Kn=Zn.exports,Qn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.type?r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column"}),r("div",{staticClass:"column is-8"},[r("b-notification",{attrs:{type:e.type,"has-icon":"","auto-close":""},on:{close:function(t){return e.close()}}},[e._v(e._s(e.message))])],1),r("div",{staticClass:"column"})])]):e._e()},Xn=[],ea=s["default"].extend({name:"Notification",data(){return{notification:{type:null,message:null}}},computed:{type(){if(!this.notification)return null;switch(this.notification.type){case"error":return"is-danger";case"warning":return"is-warning";case"success":return"is-success";default:return null}},message(){return this.notification.message}},mounted(){this.$store.watch(function(e){return e.notification},e=>{this.notification=e})},methods:{close(){this.$store.dispatch("removeNotification")}}}),ta=ea,ra=Object(K["a"])(ta,Qn,Xn,!1,null,null,null),sa=ra.exports,na={name:"app",components:{Header:Wn,Footer:Kn,Notification:sa}},aa=na,ia=(r("5c0b"),Object(K["a"])(aa,Fn,Hn,!1,null,null,null)),oa=ia.exports,ca=(r("f9e3"),r("15f5"),r("b2a2"),r("9ebe")),la=r("ecee"),ua=r("c074"),da=r("ad3d");la["c"].add(ua["b"]),la["c"].add(ua["f"]),la["c"].add(ua["c"]),la["c"].add(ua["a"]),la["c"].add(ua["d"]),la["c"].add(ua["e"]),s["default"].component("font-awesome-icon",da["a"]),s["default"].use(i.a,{defaultIconPack:"fas"}),s["default"].use(n["a"]),s["default"].use(ca["ClientTable"],{},!1,"bootstrap4","default"),s["default"].config.productionTip=!1,new s["default"]({el:"#app",router:In,store:z,i18n:Ln,render:function(e){return e(oa)}})},"5c0b":function(e,t,r){"use strict";var s=r("5e27"),n=r.n(s);n.a},"5e27":function(e,t,r){},6453:function(e,t,r){"use strict";var s=r("5102"),n=r.n(s);n.a},"76fc":function(e,t,r){},"9d64":function(e,t,r){e.exports=r.p+"img/logo.44914c2a.png"},b835:function(e,t,r){"use strict";var s=r("76fc"),n=r.n(s);n.a},ba5e:function(e,t,r){"use strict";var s=r("1f99"),n=r.n(s);n.a},f715:function(e,t,r){}});
//# sourceMappingURL=app.a4334551.js.map