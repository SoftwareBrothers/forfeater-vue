(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],s=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var s={},n={app:0},a=[];function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=s,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0292":function(t,e,r){"use strict";var s=r("f715"),n=r.n(s);n.a},"0a3d":function(t,e,r){},"1ace":function(t,e,r){},"1f99":function(t,e,r){},"282e":function(t,e,r){"use strict";var s=r("3f78"),n=r.n(s);n.a},"2a8b":function(t,e,r){"use strict";var s=r("0a3d"),n=r.n(s);n.a},"3f78":function(t,e,r){},4678:function(t,e,r){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=a(t);return r(e)}function a(t){var e=s[t];if(!(e+1)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="4678"},"4a7e":function(t,e,r){"use strict";var s=r("1ace"),n=r.n(s);n.a},5102:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("2b0e"),n=r("7bb1"),a=r("8a03"),i=r.n(a),o=r("8c4f"),c=(r("7f7f"),r("96cf"),r("3b8d")),l=r("d225"),u=r("b0b4"),d=r("c1df"),m=r.n(d);function v(t){return m()().add(t,"seconds").toISOString()}function h(t){var e=m()(t);return m()().isAfter(e)}var f=r("f499"),p=r.n(f),b=r("bd86"),_=r("2f62"),C=r("308d"),w=r("6bb5"),g=r("4e2b"),k=r("4328"),j=r.n(k),x=r("bc3a"),y=r.n(x),O={common:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"}},P=y.a.create({baseURL:"http://104.248.47.222:3000",headers:O});P.interceptors.response.use(function(t){return t.data},function(t){return z.dispatch("setNotification",{type:"error",message:t.message,code:t.code}),!1});var E,$=P,A=function(){function t(){Object(l["a"])(this,t),Object(b["a"])(this,"token",null),this.initClient()}return Object(u["a"])(t,[{key:"initClient",value:function(){this.client=$,this.initToken()}},{key:"initToken",value:function(){this.token=localStorage.getItem("token")||null,this.token&&(this.client.defaults.headers.common["Authorization"]="Bearer ".concat(this.token))}}]),t}(),N=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(C["a"])(this,Object(w["a"])(e).call(this)),t.uri="auth",t}return Object(g["a"])(e,t),Object(u["a"])(e,[{key:"authorize",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r={grant_type:"password",username:e.username,password:e.password,client_id:Object({NODE_ENV:"production",VUE_APP_API_URL:"http://104.248.47.222:3000",VUE_APP_LOCALE:"en",BASE_URL:"/"}).VUE_APP_API_CLIENT_ID||"forfeaterWeb",client_secret:Object({NODE_ENV:"production",VUE_APP_API_URL:"http://104.248.47.222:3000",VUE_APP_LOCALE:"en",BASE_URL:"/"}).VUE_APP_API_CLIENT_SECRET||"forfeaterSecret"},t.next=3,this.client.post("".concat(this.uri,"/login"),j.a.stringify(r),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getUserProfile",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.initToken(),t.next=3,this.client.get("".concat(this.uri,"/user"));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(A);s["default"].use(_["a"]);var I=new N,S="LOGIN",R="LOGOUT",U="AUTH",V="NOTIFICATION",L="CLEAR_NOTIFICATION",q={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,token:localStorage.getItem("token")||null,notification:null},F={user:function(t){return t.user},token:function(t){return t.token},isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status},notification:function(t){return t.notification}},H=(E={},Object(b["a"])(E,S,function(t,e){t.user=e}),Object(b["a"])(E,R,function(t){t.user=null,t.token=null}),Object(b["a"])(E,U,function(t,e){t.token=e}),Object(b["a"])(E,V,function(t,e){t.notification=e}),Object(b["a"])(E,L,function(t){t.notification=null}),E),T={authenticate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,r){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.authorize({username:r.username,password:r.password});case 2:if(s=t.sent,!s){t.next=9;break}return n=s.access_token,e.commit(U,n),localStorage.setItem("token",n),localStorage.setItem("token_expires_at",v(s.expires_in)),t.abrupt("return",n);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),logout:function(t){t.commit(R),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("token_expires_at")},getUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token")||null,!r){t.next=9;break}return t.next=4,I.getUserProfile(r);case 4:if(s=t.sent,!s){t.next=9;break}return e.commit(S,s),localStorage.setItem("user",p()(s)),t.abrupt("return",s);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),setNotification:function(t,e){t.commit(V,e)},removeNotification:function(t){t.commit(L)}},z=new _["a"].Store({state:q,getters:F,mutations:H,actions:T}),D=function(){function t(){Object(l["a"])(this,t)}return Object(u["a"])(t,[{key:"isValid",value:function(){var t=localStorage.getItem("token")||null,e=localStorage.getItem("token_expires_at")||null;return!(!t||h(e))||(z.dispatch("logout"),!1)}}]),t}(),M=new D,Y=function(){function t(){Object(l["a"])(this,t)}return Object(u["a"])(t,[{key:"isGuest",value:function(t,e,r){r(!M.isValid())}},{key:"isAdmin",value:function(t,e,r){r(M.isValid()&&"admin"===z.getters.user.role)}},{key:"isAuthenticated",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,r,s){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={name:"Login",query:{redirect:e.name}},M.isValid()||s(n),t.t0=s,t.next=5,z.dispatch("getUser");case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}},t)}));function e(e,r,s){return t.apply(this,arguments)}return e}()}]),t}(),W=new Y,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container pt-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-8 col-lg-4 mx-auto w-100"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.login()}}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm"},[r("label",{attrs:{for:"username"}},[t._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("username")},attrs:{id:"username",type:"text",name:"username",placeholder:"Your e-mail address"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),r("small",{staticClass:"invalid-feedback",attrs:{if:t.errors.has("username")}},[t._v(t._s(t.errors.first("username")))])])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm"},[r("label",{attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("password")},attrs:{id:"password",type:"password",name:"password",placeholder:"Your e-mail address"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("small",{staticClass:"invalid-feedback",attrs:{if:t.errors.has("password")}},[t._v(t._s(t.errors.first("password")))])])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm text-center"},[r("button",{staticClass:"button is-warning",class:{"is-loading":t.loading},attrs:{type:"submit",disabled:t.disabled()}},[t._v("Send")])])])])])])])},B=[],J={data:function(){return{username:"",password:"",loading:!1}},methods:{login:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("authenticate",{username:this.username,password:this.password});case 3:e=t.sent,e&&(r=this.$route.query.redirect,this.$router.push({name:r||"Home"})),this.loading=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),disabled:function(){return 0===this.username.length||0===this.password.length||this.errors.any()||this.loading}},beforeCreate:function(){this.$store.token&&this.$router.push({name:"UserProfile"})}},Z=J,K=r("2877"),Q=Object(K["a"])(Z,G,B,!1,null,null,null),X=Q.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ChoiceAdd")},et=[],rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t.orders.length?r("div",[r("div",{staticClass:"mt-3 d-flex flex-row justify-content-center"},t._l(t.orders,function(e,s){return r("div",{key:s,staticClass:"card border-warning mx-2 my-2",on:{click:function(r){t.choice=e.choice||{}}}},[r("div",{staticClass:"card-header text-center"},[r("h2",[t._v(t._s(e.vendor.name))]),r("small",{staticClass:"badge badge-warning"},[e.deadlineAt?r("Countdown",{attrs:{end:e.deadlineAt}}):t._e()],1)]),r("div",{staticClass:"card-body text-dark"},[r("ProductsInputList",{attrs:{order:e,choice:t.choice},on:{"update:choice":function(e){t.choice=e}}})],1),t.isCancel(e)?r("div",{staticClass:"card-footer bg-transparent border-warning"},[r("div",{staticClass:"text-center mt-1"},[r("button",{staticClass:"btn btn-sm btn-danger col-white",on:{click:function(e){return t.removeChoices()}}},[t._v("\n              Cancel\n            ")])])]):t._e()])}),0),r("div",{staticClass:"row justify-content-center mt-4"},[r("div",{staticClass:"col-sm-6"},[r("span",[t._v("Comment:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control border-warning",domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),r("div",{staticClass:"d-flex justify-content-center mt-4"},[r("button",{staticClass:"btn btn-lg btn-warning col-white",attrs:{disabled:!t.isProductSelected},on:{click:t.sendForm}},[t._v("Send")])])]):t._e()])},st=[],nt=r("e814"),at=r.n(nt),it=r("5176"),ot=r.n(it),ct=r("5d73"),lt=r.n(ct),ut=(r("7514"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.products?r("div",t._l(t.products,function(e,s){return r("div",{key:s,staticClass:"custom-control custom-radio product-input-list"},[r("input",{staticClass:"custom-control-input",attrs:{name:"product",id:"product-"+e.id,type:"radio"},domProps:{value:""+e.id,checked:t.isChecked(e)},on:{change:function(r){return t.onSelect(e)}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"product-"+e.id}},[t._v(t._s(e.name))])])}),0):t._e()}),dt=[],mt={props:{order:{required:!0},choice:{required:!0}},methods:{onSelect:function(t){var e=JSON.parse(p()(this.order));this.$emit("update:choice",ot()(this.choice,{product:t,order:e}))},isChecked:function(t){return this.order.choice.product&&this.order.choice.product.id===t.id}},computed:{products:function(){return this.order.vendor.products}}},vt=mt,ht=(r("b835"),Object(K["a"])(vt,ut,dt,!1,null,"3f273ad6",null)),ft=ht.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[t._v(t._s(t._f("two_digits")(t.hours))+":"+t._s(t._f("two_digits")(t.minutes))+":"+t._s(t._f("two_digits")(t.seconds)))])},bt=[],_t=(r("84b4"),{props:{end:{type:String,required:!0}},data:function(){return{now:Math.trunc((new Date).getTime()/1e3)}},mounted:function(){var t=this;setInterval(function(){t.now=Math.trunc((new Date).getTime()/1e3)},1e3)},computed:{date:function(){return Math.trunc(Date.parse(this.end)/1e3)},seconds:function(){return(this.date-this.now)%60},minutes:function(){return Math.trunc((this.date-this.now)/60)%60},hours:function(){return Math.trunc((this.date-this.now)/60/60)%24},days:function(){return Math.trunc((this.date-this.now)/60/60/24)}}}),Ct=_t,wt=Object(K["a"])(Ct,pt,bt,!1,null,null,null),gt=wt.exports,kt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(C["a"])(this,Object(w["a"])(e).call(this)),t.uri="vendors",t}return Object(g["a"])(e,t),Object(u["a"])(e,[{key:"find",value:function(t,e){return this.client.get("".concat(this.uri,"/").concat(t,"/products/").concat(e))}},{key:"getAll",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t,"/products"))}},{key:"remove",value:function(t,e){return this.client.delete("".concat(this.uri,"/").concat(t,"/products/").concat(e))}},{key:"store",value:function(t){return this.client.post("".concat(this.uri,"/").concat(t.vendorId,"/products"),t)}},{key:"update",value:function(t){return this.client.patch("".concat(this.uri,"/").concat(t.vendorId,"/products/").concat(t.id),t)}},{key:"getAllActiveByVendor",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t,"/products"),{params:{active:1,vendorId:t}})}}]),e}(A),jt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(C["a"])(this,Object(w["a"])(e).call(this)),t.uri="choices",t.productService=new kt,t}return Object(g["a"])(e,t),Object(u["a"])(e,[{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"getAllFromOrder",value:function(t){return this.client.get("orders/".concat(t,"/").concat(this.uri))}},{key:"find",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t))}},{key:"getFromOrder",value:function(t){return this.client.get("orders/".concat(t,"/choice"))}},{key:"getFromProduct",value:function(t){return this.client.get("vendors/".concat(t.vendorId,"/products/").concat(t.id,"/choices"))}},{key:"store",value:function(t,e,r,s){return this.client.put("orders/".concat(e.id,"/choices"),{orderId:e.id,userId:t.id,productId:r.id,orderComment:s})}},{key:"save",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,r,s,n){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.store(e,r,s,n);case 2:return a=t.sent,t.next=5,this.productService.find(s.vendorId,a.productId);case 5:return i=t.sent,o=a.id,c=void 0===o?null:o,l=a.orderComment,u=void 0===l?null:l,d=a.orderId,t.abrupt("return",{id:c,product:i,comment:u,orderId:d});case 8:case"end":return t.stop()}},t,this)}));function e(e,r,s,n){return t.apply(this,arguments)}return e}()},{key:"rate",value:function(t,e){return this.client.patch("orders/".concat(t,"/ratings"),{mark:e.score,scoreComment:e.comment})}},{key:"remove",value:function(t,e){return this.client.delete("orders/".concat(t,"/choices/").concat(e))}}]),e}(A),xt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(C["a"])(this,Object(w["a"])(e).call(this)),t.uri="orders",t.productService=new kt,t.choiceService=new jt,t}return Object(g["a"])(e,t),Object(u["a"])(e,[{key:"find",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t))}},{key:"getActive",value:function(){return this.client.get(this.uri,{params:{active:1}})}},{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"getOrderWithChoices",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t,"/choices"))}},{key:"remove",value:function(t){return this.client.delete("".concat(this.uri,"/").concat(t))}},{key:"store",value:function(t){return this.client.post(this.uri,t)}},{key:"update",value:function(t){return this.client.patch("".concat(this.uri,"/").concat(t.id),t)}},{key:"getAllWithProductChoices",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAll();case 2:return e=t.sent,t.abrupt("return",this.getProductChoicesFromOrders(e));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getAllActiveWithProductChoices",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getActive();case 2:return e=t.sent,t.abrupt("return",this.getProductChoicesFromOrders(e));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getProductChoicesFromOrders",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r,s,n,a,i,o,c,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r=[],s=!0,n=!1,a=void 0,t.prev=4,i=lt()(e);case 6:if(s=(o=i.next()).done){t.next=20;break}return c=o.value,t.next=10,this.productService.getAllActiveByVendor(c.vendor.id);case 10:return c.vendor.products=t.sent,t.next=13,this.getOrderWithChoices(c.id);case 13:l=t.sent,u=l.find(function(t){return t.userId===z.getters.user.id}),c.choice={id:u&&u.id||null,product:u&&u.product||null,comment:u&&u.orderComment||null},r.push(c);case 17:s=!0,t.next=6;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](4),n=!0,a=t.t0;case 26:t.prev=26,t.prev=27,s||null==i.return||i.return();case 29:if(t.prev=29,!n){t.next=32;break}throw a;case 32:return t.finish(29);case 33:return t.finish(26);case 34:return t.abrupt("return",r);case 35:case"end":return t.stop()}},t,this,[[4,22,26,34],[27,,29,33]])}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(A),yt={data:function(){return{orders:[],choice:{order:null,product:null,comment:"",id:null},service:new jt,orderService:new xt}},methods:{sendForm:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.choice.product){t.next=5;break}return t.next=3,this.service.save(this.$store.getters.user,this.choice.order,this.choice.product,this.choice.comment);case 3:e=t.sent,e&&(this.$store.dispatch("setNotification",{type:"success",message:this.$t("choices.saved"),code:200}),this.orders.find(function(t){return t.id===e.orderId}).choice=e);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),removeChoices:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,r,s,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=!0,r=!1,s=void 0,t.prev=3,n=lt()(this.orders);case 5:if(e=(a=n.next()).done){t.next=15;break}if(i=a.value,!i.choice.id){t.next=12;break}return t.next=10,this.service.remove(i.id,i.choice.id);case 10:i.choice={id:null,comment:null,product:null,order:null},this.comment="";case 12:e=!0,t.next=5;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](3),r=!0,s=t.t0;case 21:t.prev=21,t.prev=22,e||null==n.return||n.return();case 24:if(t.prev=24,!r){t.next=27;break}throw s;case 27:return t.finish(24);case 28:return t.finish(21);case 29:case"end":return t.stop()}},t,this,[[3,17,21,29],[22,,24,28]])}));function e(){return t.apply(this,arguments)}return e}(),beforeDeadline:function(t){return new Date(t.deadlineAt)>new Date},isCancel:function(t){return(this.choice.order&&this.choice.order.id)===t.id&&this.beforeDeadline(t)}},computed:{comment:{get:function(){return this.choice&&this.choice.comment},set:function(t){var e=this.choice||{};this.choice=ot()(e,{comment:t})}},isProductSelected:function(){return this.choice&&this.choice.product}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.orderService.getAllActiveWithProductChoices();case 2:if(e=t.sent,e.length){t.next=5;break}return t.abrupt("return",this.$store.dispatch("setNotification",{type:"warning",message:this.$t("orders.lack"),code:200}));case 5:this.orders=e,r=e.find(function(t){return at()(t.choice.id)>0}),r&&(this.choice=r.choice,this.choice.order=r);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{ProductsInputList:ft,Countdown:gt}},Ot=yt,Pt=Object(K["a"])(Ot,rt,st,!1,null,null,null),Et=Pt.exports,$t={name:"home",components:{ChoiceAdd:Et}},At=$t,Nt=Object(K["a"])(At,tt,et,!1,null,null,null),It=Nt.exports,St=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Rt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Gary move out!")]),r("div",{staticClass:"text-center"},[r("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/WcYe1Sd8H_U",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}})])])])])}],Ut={},Vt=Object(K["a"])(Ut,St,Rt,!1,null,null,null),Lt=Vt.exports,qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item"},[t._v("Choices")]),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Create")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ChoiceForm")],1)])])])},Ft=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Create choice")])])])}],Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control w-100"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-4"},[r("label",[t._v("Vendor")]),t.vendorName?r("div",[t._v(t._s(t.vendorName))]):t._e()]),r("div",{staticClass:"col-sm-4"},[r("label",[t._v("Deadline")]),r("div",[t._v(t._s(t._f("moment")(t.order.deadlineAt)))])]),r("div",{staticClass:"col-sm-4"},[r("label",[t._v("Delivery")]),r("div",[t._v(t._s(t._f("moment")(t.order.deliveryAt)))])])])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control w-100"},[r("label",{attrs:{for:"name"}},[t._v("User")]),t.choice.id?t._e():r("UserAutoComplete",{attrs:{user:t.choice.user},on:{"update:user":function(e){return t.$set(t.choice,"user",e)}}}),t.choice.id?r("div",[t._v(t._s(t.choice.user.firstName)+" "+t._s(t.choice.user.lastName)+" ("+t._s(t.choice.user.email)+")")]):t._e()],1)]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control"},[r("label",{attrs:{for:"name"}},[t._v("Product")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.choice.productId,expression:"choice.productId"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{name:"product"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.choice,"productId",e.target.multiple?r:r[0])},function(e){return t.loadProducts()}]}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Select Product")]),t._l(t.products,function(e,s){return r("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])])]),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[t._v("Comment")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.choice.orderComment,expression:"choice.orderComment"}],staticClass:"form-control border-warning",attrs:{rows:"4"},domProps:{value:t.choice.orderComment},on:{input:function(e){e.target.composing||t.$set(t.choice,"orderComment",e.target.value)}}})])])]),t.choice.id?t._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:t.update}},[t._v("Create")]),t.choice.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:t.update}},[t._v("Save")]):t._e()])},Tt=[],zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:"text",name:"input",placeholder:"Enter Name"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},t.onChange]}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"invalid-feedback"},[t._v(t._s(t.error))]),r("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},[t._l(t.results,function(e,s){return r("li",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],key:s,staticClass:"autocomplete-result",on:{click:function(r){return t.onSelect(e)}}},[t._v("\n      "+t._s(t.fullName(e))+"\n    ")])}),r("li",{directives:[{name:"show",rawName:"v-show",value:0===t.results.length&&t.input.length>3,expression:"results.length === 0 && input.length > 3"}],staticClass:"autocomplete-error"},[t._v("No result found")])],2)])},Dt=[],Mt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(C["a"])(this,Object(w["a"])(e).call(this)),t.uri="users",t}return Object(g["a"])(e,t),Object(u["a"])(e,[{key:"find",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t))}},{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"remove",value:function(t){return this.client.delete("".concat(this.uri,"/").concat(t))}},{key:"store",value:function(t){return this.client.post(this.uri,t)}},{key:"update",value:function(t){return this.client.patch("".concat(this.uri,"/").concat(t.id),t)}},{key:"changePassword",value:function(t,e){return this.client.put("".concat(this.uri,"/").concat(t.id,"/password"),{newPassword:e})}}]),e}(A),Yt={props:{user:{type:Object,required:!1,default:function(){return{id:null,firstName:null,lastName:null,email:null}}}},data:function(){return{input:this.user.email?this.fullName(this.user):"",users:[],results:[],isOpen:!1,error:null,service:new Mt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAll();case 2:this.users=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{onSelect:function(t){this.isOpen=!1,this.$emit("update:user",t)},onChange:function(){if(this.input.length<=3)return this.isOpen=!1,void(this.error="Please provide at least 4 characters");this.filterResults(),this.isOpen=!0},filterResults:function(){var t=this;this.results=this.users.filter(function(e){return e.lastName.toLowerCase().indexOf(t.input.toLowerCase())>-1||e.firstName.toLowerCase().indexOf(t.input.toLowerCase())>-1})},fullName:function(t){return"".concat(t.firstName," ").concat(t.lastName," (").concat(t.email,")")}},watch:{user:function(t){this.input=this.fullName(t)}}},Wt=Yt,Gt=(r("ba5e"),Object(K["a"])(Wt,zt,Dt,!1,null,null,null)),Bt=Gt.exports,Jt={props:{choice:{type:Object,required:!1,default:function(){return{orderId:null,userId:null,productId:null,orderComment:""}}}},data:function(){return{products:null,vendorName:null,order:{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null},selectedProduct:null,user:{id:null,firstName:null,lastName:null,email:null},service:new jt,orderService:new xt,productService:new kt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.orderService.find(this.$route.params.orderId);case 2:return this.order=t.sent,t.next=5,this.productService.getAll(this.order.vendorId);case 5:this.products=t.sent,this.choice.orderId=this.$route.params.orderId;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{update:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:if(e=t.sent,!e||this.errors.any()){t.next=7;break}return r=this.selectedProduct?this.selectedProduct:this.choice.product,t.next=7,this.service.store(this.choice.user,this.order,r,this.choice.orderComment);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadProducts:function(){var t=this,e=this.products.filter(function(e){if(e.id===t.choice.productId)return e});e.length>0&&(this.selectedProduct=e[0])}},components:{UserAutoComplete:Bt}},Zt=Jt,Kt=Object(K["a"])(Zt,Ht,Tt,!1,null,null,null),Qt=Kt.exports,Xt={components:{ChoiceForm:Qt}},te=Xt,ee=Object(K["a"])(te,qt,Ft,!1,null,null,null),re=ee.exports,se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item"},[t._v("Choices")]),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ChoiceForm",{attrs:{choice:t.choice}})],1)])])])},ne=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Edit choice")])])])}],ae={data:function(){return{choice:{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null},service:new jt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.find(this.$route.params.choiceId);case 2:this.choice=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{ChoiceForm:Qt}},ie=ae,oe=Object(K["a"])(ie,se,ne,!1,null,null,null),ce=oe.exports,le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("div",[t._v("\n          Product:\n          "),r("strong",[t._v(t._s(t.Choice.product.name))])]),r("div",[t._v("\n          Rate:\n          "),r("strong",[t._v(t._s(t.Choice.score))])]),r("div",[t._v("\n          Comment:\n          "),r("strong",[t._v(t._s(t.Choice.scoreComment))])]),r("ScoreForm",{attrs:{score:t.score}})],1)])]),r("div",{staticClass:"d-flex justify-content-center mt-4"},[r("button",{staticClass:"btn btn-lg btn-warning col-white",attrs:{disabled:!t.score.score},on:{click:t.sendForm}},[t._v("Send")])])])},ue=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Score your order")])])])}],de=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"margin-top":"20px"}},[r("div",{staticClass:"row justify-content-center mt-4"},[r("div",{staticClass:"col-sm-6"},[r("label",{attrs:{for:"score"}},[t._v("Rate")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.score.score,expression:"score.score"}],staticClass:"custom-select border-warning",attrs:{name:"score"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.score,"score",e.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Please rate")]),t._l(6,function(e,s){return r("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})],2)])]),r("div",{staticClass:"row justify-content-center mt-4"},[r("div",{staticClass:"col-sm-6"},[r("span",[t._v("Comment:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.score.comment,expression:"score.comment"}],staticClass:"form-control border-warning",domProps:{value:t.score.comment},on:{input:function(e){e.target.composing||t.$set(t.score,"comment",e.target.value)}}})])])])},me=[],ve={props:{score:{required:!0,type:Object,default:function(){return{score:null,comment:null}}}}},he=ve,fe=Object(K["a"])(he,de,me,!1,null,null,null),pe=fe.exports,be={data:function(){return{score:{score:null,comment:null},Choice:{orderId:null,userId:null,productId:null,orderComment:null,score:null,scoreComment:null,order:{},product:{}},service:new jt}},methods:{sendForm:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.score.score){t.next=4;break}return t.next=3,this.service.rate(this.$route.params.id,this.score);case 3:this.Choice=t.sent;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.getFromOrder(this.$route.params.id);case 2:this.Choice=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{ScoreForm:pe}},_e=be,Ce=Object(K["a"])(_e,le,ue,!1,null,null,null),we=Ce.exports,ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active"},[t._v("Users")])])]),t._m(0),r("UserTable",{attrs:{users:t.users},on:{"update:users":function(e){t.users=e}}})],1)},ke=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("User list")])])])}],je=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.users?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"}),r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"UserCreate"}}},[t._v("Create user")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[t._m(0),t.users?r("tbody",t._l(t.users,function(e,s){return r("tr",{key:s},[r("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.firstName))]),r("td",[t._v(t._s(e.lastName))]),r("td",[t._v(t._s(e.email))]),r("td",[t._v(t._s(e.role))]),r("td",[r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"UserEdit",params:{id:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1),r("button",{staticClass:"btn btn-action d-inline text-danger",on:{click:function(r){return t.remove(e.id,s)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)],1)])}),0):t._e()])])],1),r("div",{staticClass:"col-sm"})])]):t._e()},xe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),r("th",{attrs:{scope:"col"}},[t._v("First")]),r("th",{attrs:{scope:"col"}},[t._v("Last")]),r("th",{attrs:{scope:"col"}},[t._v("Email")]),r("th",{attrs:{scope:"col"}},[t._v("Role")]),r("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],ye={props:{users:{required:!0}},data:function(){return{service:new Mt}},methods:{remove:function(t,e){var r=this;this.service.remove(t).then(function(){r.users.splice(e,1),r.$emit("users:update",r.users)})}}},Oe=ye,Pe=Object(K["a"])(Oe,je,xe,!1,null,null,null),Ee=Pe.exports,$e={data:function(){return{users:null,service:new Mt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAll();case 2:this.users=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{UserTable:Ee}},Ae=$e,Ne=Object(K["a"])(Ae,ge,ke,!1,null,null,null),Ie=Ne.exports,Se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"UserList"}}},[t._v("Users")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Create")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("UserForm")],1),r("div",{staticClass:"col-sm"})])])])},Re=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Create user")])])])}],Ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6 custom-control"},[r("label",{attrs:{for:"firstName"}},[t._v("First name")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"},{name:"model",rawName:"v-model",value:t.User.firstName,expression:"User.firstName"}],staticClass:"form-control",attrs:{type:"text",name:"firstName",placeholder:"First name"},domProps:{value:t.User.firstName},on:{input:function(e){e.target.composing||t.$set(t.User,"firstName",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("firstName")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"lastName"}},[t._v("Last name")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"},{name:"model",rawName:"v-model",value:t.User.lastName,expression:"User.lastName"}],staticClass:"form-control",attrs:{type:"text",name:"lastName",placeholder:"Last name"},domProps:{value:t.User.lastName},on:{input:function(e){e.target.composing||t.$set(t.User,"lastName",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("lastName")))])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"role"}},[t._v("Role")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.User.role,expression:"User.role"},{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],staticClass:"custom-select",attrs:{name:"role"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.User,"role",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"null",disabled:""}},[t._v("Select role")]),r("option",{attrs:{value:"admin"}},[t._v("Administrator")]),r("option",{attrs:{value:"user"}},[t._v("User")])]),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("role")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"email"}},[t._v("Email")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.User.email,expression:"User.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.User.email},on:{input:function(e){e.target.composing||t.$set(t.User,"email",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("email")))])])]),t.User.id?t._e():r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:confirmation",expression:"'required|confirmed:confirmation'"},{name:"model",rawName:"v-model",value:t.User.password,expression:"User.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.User.password},on:{input:function(e){e.target.composing||t.$set(t.User,"password",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("password")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"confirmation"}},[t._v("Confirmation")]),r("input",{ref:"confirmation",staticClass:"form-control",attrs:{type:"password",name:"confirmation",placeholder:"Password"}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("confirmation")))])])]),t.User.id?t._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("store")}}},[t._v("Create")]),t.User.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("update")}}},[t._v("Save")]):t._e()])},Ve=[],Le={props:{User:{type:Object,required:!1,default:function(){return{firstName:null,lastName:null,role:null,email:null,password:null}}}},data:function(){return{service:new Mt}},methods:{save:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.errors.any()){t.next=4;break}return t.next=3,this.service[e](this.User);case 3:this.$router.push("/users");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},qe=Le,Fe=Object(K["a"])(qe,Ue,Ve,!1,null,null,null),He=Fe.exports,Te={components:{UserForm:He}},ze=Te,De=Object(K["a"])(ze,Se,Re,!1,null,null,null),Me=De.exports,Ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"UserList"}}},[t._v("Users")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("UserForm",{attrs:{User:t.User}})],1),r("div",{staticClass:"col-sm"})])])])},We=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Edit user")])])])}],Ge={data:function(){return{User:{firstName:null,lastName:null,role:null,email:null,password:null},service:new Mt}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.find(this.$route.params.id);case 2:this.User=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{UserForm:He}},Be=Ge,Je=Object(K["a"])(Be,Ye,We,!1,null,null,null),Ze=Je.exports,Ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("h2",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),r("p",[r("strong",[t._v("E-mail:")]),t._v(" "+t._s(t.user.email))]),r("p",[r("strong",[t._v("Role:")]),t._v(" "+t._s(t.user.role))]),r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"UserChangePassword"}}},[t._v("Change password")])],1),r("div",{staticClass:"col-sm"})])])])},Qe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("My profile")])])])}],Xe={data:function(){return{}},computed:{user:function(){return this.$store.getters.user}},created:function(){}},tr=Xe,er=Object(K["a"])(tr,Ke,Qe,!1,null,null,null),rr=er.exports,sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[t.alert?r("ErrorAlert",{attrs:{message:t.alert,title:null}}):t._e(),r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:confirmation",expression:"'required|confirmed:confirmation'"},{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("password")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"confirmation"}},[t._v("Confirmation")]),r("input",{ref:"confirmation",staticClass:"form-control",attrs:{type:"password",name:"confirmation",placeholder:"Password"}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("confirmation")))])])]),r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:t.changePassword}},[t._v("Update")])])],1)])])])},nr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Change Password")])])])}],ar=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.content||t.title?r("b-message",{attrs:{title:t.title,type:"is-danger"}},[t._v(t._s(t.content))]):t._e()},ir=[],or=s["default"].extend({name:"ErrorAlert",props:{content:{type:String,required:!1,default:null},title:{type:String,required:!1,default:"🤕 Error, szwagier"}}}),cr=or,lr=Object(K["a"])(cr,ar,ir,!1,null,null,null),ur=lr.exports,dr={data:function(){return{User:null,newPassword:null,service:new Mt,alert:""}},methods:{changePassword:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.errors.any()){t.next=4;break}return t.next=3,this.service.changePassword(this.User,this.newPassword);case 3:this.$router.go("-1");case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.User=this.$store.getters.user},components:{ErrorAlert:ur}},mr=dr,vr=Object(K["a"])(mr,sr,nr,!1,null,null,null),hr=vr.exports,fr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Vendors")])])]),t._m(0),r("VendorTable",{attrs:{vendors:t.vendors},on:{"update:vendors":function(e){t.vendors=e}}})],1)},pr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Vendor list")])])])}],br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.vendors?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"}),r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"VendorCreate"}}},[t._v("Create vendor")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[t._m(0),t.vendors?r("tbody",t._l(t.vendors,function(e,s){return r("tr",{key:s},[r("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.url))]),r("td",[r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ProductList",params:{vendorId:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"list"}})],1),r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"VendorEdit",params:{id:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1),r("button",{staticClass:"btn btn-action d-inline text-danger",attrs:{href:""},on:{click:function(r){return t.remove(e.id,s)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)],1)])}),0):t._e()])])],1),r("div",{staticClass:"col-sm"})])]):t._e()},_r=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),r("th",{attrs:{scope:"col"}},[t._v("Name")]),r("th",{attrs:{scope:"col"}},[t._v("Url")]),r("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],Cr=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(C["a"])(this,Object(w["a"])(e).call(this)),t.uri="/vendors",t}return Object(g["a"])(e,t),Object(u["a"])(e,[{key:"find",value:function(t){return this.client.get("".concat(this.uri,"/").concat(t))}},{key:"getAll",value:function(){return this.client.get(this.uri)}},{key:"getTodayVendor",value:function(){var t=this.getAll();return t[0]||null}},{key:"remove",value:function(t){return this.client.delete("".concat(this.uri,"/").concat(t))}},{key:"store",value:function(t){return this.client.post(this.uri,t)}},{key:"update",value:function(t){return this.client.patch("".concat(this.uri,"/").concat(t.id),t)}}]),e}(A),wr={props:{vendors:{required:!0}},data:function(){return{service:new Cr}},methods:{remove:function(t,e){var r=this;this.service.remove(t).then(function(){r.vendors.splice(e,1),r.$emit("vendors.update",r.vendors)})}}},gr=wr,kr=Object(K["a"])(gr,br,_r,!1,null,null,null),jr=kr.exports,xr={data:function(){return{vendors:{},service:new Cr}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAll();case 2:this.vendors=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{VendorTable:jr}},yr=xr,Or=Object(K["a"])(yr,fr,pr,!1,null,null,null),Pr=Or.exports,Er=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Create")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("VendorForm")],1),r("div",{staticClass:"col-sm"})])])])},$r=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Create vendor")])])])}],Ar=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6 custom-control"},[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.Vendor.name,expression:"Vendor.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"name"},domProps:{value:t.Vendor.name},on:{input:function(e){e.target.composing||t.$set(t.Vendor,"name",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("name")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"name"}},[t._v("Website")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"url",expression:"'url'"},{name:"model",rawName:"v-model",value:t.Vendor.url,expression:"Vendor.url"}],staticClass:"form-control",attrs:{type:"text",name:"url",placeholder:"url"},domProps:{value:t.Vendor.url},on:{input:function(e){e.target.composing||t.$set(t.Vendor,"url",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("url")))])])]),t.Vendor.id?t._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("store")}}},[t._v("\n    Create\n  ")]),t.Vendor.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("update")}}},[t._v("Save")]):t._e()])},Nr=[],Ir={props:{Vendor:{type:Object,required:!1,default:function(){return{name:null,url:null}}}},data:function(){return{service:new Cr}},methods:{save:function(t){var e=this;this.errors.any()||this.service[t](this.Vendor).then(function(){e.$router.push("/vendors")})}}},Sr=Ir,Rr=Object(K["a"])(Sr,Ar,Nr,!1,null,null,null),Ur=Rr.exports,Vr={components:{VendorForm:Ur}},Lr=Vr,qr=Object(K["a"])(Lr,Er,$r,!1,null,null,null),Fr=qr.exports,Hr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[t._v(t._s(t.Vendor.name))]),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("VendorForm",{attrs:{Vendor:t.Vendor}})],1),r("div",{staticClass:"col-sm"})])])])},Tr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Edit vendor")])])])}],zr={data:function(){return{Vendor:{name:null,url:null},service:new Cr}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.find(this.$route.params.id);case 2:this.Vendor=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{VendorForm:Ur}},Dr=zr,Mr=Object(K["a"])(Dr,Hr,Tr,!1,null,null,null),Yr=Mr.exports,Wr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[t._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("ProductTable",{attrs:{products:t.products}})],1)},Gr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Product list")])])])}],Br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.products?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"}),r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"ProductCreate"}}},[t._v("Create product")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[t._m(0),t.products?r("tbody",t._l(t.products,function(e,s){return r("tr",{key:s},[r("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.avgScore))]),r("td",[t._v(t._s(e.rankCount))]),r("td",[r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ProductShow",params:{vendorId:e.vendorId,id:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"list"}})],1),r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"ProductEdit",params:{vendorId:e.vendorId,id:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1),r("a",{staticClass:"btn-action d-inline text-danger",attrs:{href:""},on:{click:function(r){return t.remove(e.id,s)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1)],1)])}),0):t._e()])])],1),r("div",{staticClass:"col-sm"})])]):t._e()},Jr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),r("th",{attrs:{scope:"col"}},[t._v("Name")]),r("th",{attrs:{scope:"col"}},[t._v("Rate")]),r("th",{attrs:{scope:"col"}},[t._v("Votes")]),r("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],Zr={props:{products:{required:!0}},data:function(){return{service:new kt}},methods:{remove:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.remove(this.$route.params.vendorId,e);case 2:this.products.splice(r,1);case 3:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}()}},Kr=Zr,Qr=Object(K["a"])(Kr,Br,Jr,!1,null,null,null),Xr=Qr.exports,ts={data:function(){return{products:[],service:new kt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAll(this.$route.params.vendorId);case 2:this.products=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{ProductTable:Xr}},es=ts,rs=Object(K["a"])(es,Wr,Gr,!1,null,null,null),ss=rs.exports,ns=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[t._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Create")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ProductForm")],1),r("div",{staticClass:"col-sm"})])])])},as=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Create product")])])])}],is=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group custom-control col-sm-9 col-md-10"},[t._m(0),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.Product.name,expression:"Product.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"name"},domProps:{value:t.Product.name},on:{input:function(e){e.target.composing||t.$set(t.Product,"name",e.target.value)}}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("name")))])]),r("div",{staticClass:"form-group custom-control col-sm-3 col-md-2"},[t._m(1),r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.active,expression:"Product.active"}],staticClass:"form-check-input",attrs:{type:"radio",name:"active",id:"active1",value:"1",checked:""},domProps:{checked:t._q(t.Product.active,"1")},on:{change:function(e){return t.$set(t.Product,"active","1")}}}),r("label",{staticClass:"form-check-label",attrs:{for:"active1"}},[t._v("Yes")])]),r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.active,expression:"Product.active"}],staticClass:"form-check-input",attrs:{type:"radio",name:"active",id:"active0",value:"0"},domProps:{checked:t._q(t.Product.active,"0")},on:{change:function(e){return t.$set(t.Product,"active","0")}}}),r("label",{staticClass:"form-check-label",attrs:{for:"active0"}},[t._v("No")])]),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("active")))])])]),t.Product.id?t._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("store")}}},[t._v("\n    Create\n  ")]),t.Product.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("update")}}},[t._v("Save")]):t._e()])},os=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("label",{attrs:{for:"name"}},[t._v("Name")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("label",{attrs:{for:"name"}},[t._v("Active")])])}],cs={props:{Product:{type:Object,required:!1,default:function(){return{vendorId:null,name:null,active:null}}}},data:function(){return{service:new kt}},created:function(){this.Product.vendorId=this.$route.params.vendorId},methods:{save:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.errors.any()){t.next=4;break}return t.next=3,this.service[e](this.Product);case 3:this.$router.push("/vendors/"+this.Product.vendorId+"/products");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},ls=cs,us=Object(K["a"])(ls,is,os,!1,null,null,null),ds=us.exports,ms={components:{ProductForm:ds}},vs=ms,hs=Object(K["a"])(vs,ns,as,!1,null,null,null),fs=hs.exports,ps=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[t._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[r("router-link",{attrs:{to:{name:"ProductShow",params:{vendorId:this.$route.params.vendorId,productId:this.$route.params.id}}}},[t._v("\n          "+t._s(t.Product.name)+"\n        ")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("ProductForm",{attrs:{Product:t.Product}})],1),r("div",{staticClass:"col-sm"})])])])},bs=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Edit product")])])])}],_s={data:function(){return{Product:{name:null,active:null},service:new kt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.find(this.$route.params.vendorId,this.$route.params.id);case 2:this.Product=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{ProductForm:ds}},Cs=_s,ws=Object(K["a"])(Cs,ps,bs,!1,null,null,null),gs=ws.exports,ks=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1),r("li",{staticClass:"breadcrumb-item active"},[r("router-link",{attrs:{to:{name:"ProductList",params:{vendorId:this.$route.params.vendorId}}}},[t._v("Products")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.Product.name))])])]),r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Product: "+t._s(t.Product.name))])])]),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[r("div",[t._v("Name: "+t._s(t.Product.name))]),t.Product.vendor?r("div",[t._v("Vendor: "+t._s(t.Product.vendor.name))]):t._e(),r("div",[t._v("Rate: "+t._s(t.Product.avgScore))]),r("div",[t._v("Votes: "+t._s(t.Product.rankCount))])]),r("div",{staticClass:"col-sm-6"},t._l(t.choices,function(e,s){return r("div",{key:s},[r("div",[t._v("User: "+t._s(e.user.firstName+" "+e.user.lastName))]),r("div",[t._v("Rate: "+t._s(e.score))]),r("div",[t._v("Comment: "+t._s(e.scoreComment))])])}),0)])])])},js=[],xs={data:function(){return{Product:{name:null,active:null},choices:[],service:new jt,productService:new kt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.productService.find(this.$route.params.vendorId,this.$route.params.id);case 2:return this.Product=t.sent,t.next=5,this.service.getFromProduct(this.Product);case 5:e=t.sent,this.choices=e.filter(function(t){return null!=t.score||null!=t.scoreComment});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},ys=xs,Os=Object(K["a"])(ys,ks,js,!1,null,null,null),Ps=Os.exports,Es=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item active"},[t._v("Orders")])])]),t._m(0),r("OrderTable",{attrs:{orders:t.orders}})],1)},$s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Order list")])])])}],As=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.orders?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("router-link",{staticClass:"nav-link btn btn-warning btn-custom col-white",attrs:{to:{name:"OrderCreate"}}},[t._v("Create order")]),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-sm table-hover table-bordered table-striped"},[t._m(0),t.orders?r("tbody",t._l(t.orders,function(e,s){return r("tr",{key:s,class:{"no-active":!t.isActive(e)}},[r("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.vendor.name))]),r("td",[t._v(t._s(e.choice.product?e.choice.product.name:""))]),r("td",[t._v(t._s(t._f("moment")(e.deadlineAt)))]),r("td",[t._v(t._s(t._f("moment")(e.deliveryAt)))]),r("td",[t._v(t._s(e.user.firstName)+" "+t._s(e.user.lastName))]),r("td",[r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ChoiceList",params:{orderId:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"list"}})],1),e.choice.product?r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"ChoiceScore",params:{id:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"comment"}})],1):t._e(),t.user&&"admin"==t.user.role?r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"OrderEdit",params:{id:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1):t._e(),t.user&&"admin"==t.user.role?r("router-link",{staticClass:"btn-action d-inline text-warning",attrs:{to:{name:"ChoiceCreate",params:{orderId:e.id}}}},[r("font-awesome-icon",{attrs:{icon:"plus"}})],1):t._e(),t.user&&"admin"==t.user.role?r("a",{staticClass:"btn-action d-inline text-danger",attrs:{href:""},on:{click:function(r){return t.remove(e.id,s,r)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1):t._e()],1)])}),0):t._e()])])],1),r("div",{staticClass:"col-sm"})])]):t._e()},Ns=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),r("th",{attrs:{scope:"col"}},[t._v("Vendor")]),r("th",{attrs:{scope:"col"}},[t._v("My choice")]),r("th",{attrs:{scope:"col"}},[t._v("Deadline")]),r("th",{attrs:{scope:"col"}},[t._v("Delivery")]),r("th",{attrs:{scope:"col"}},[t._v("Creator")]),r("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],Is={props:{orders:{required:!0}},data:function(){return{service:new xt}},methods:{remove:function(t,e){var r=this;this.service.remove(t).then(function(){r.orders.splice(e,1)})},isActive:function(t){return new Date(t.deadlineAt).getTime()>(new Date).getTime()}},computed:{user:function(){return this.$store.getters.user}}},Ss=Is,Rs=(r("4a7e"),Object(K["a"])(Ss,As,Ns,!1,null,"1e1f109f",null)),Us=Rs.exports,Vs={data:function(){return{orders:[],service:new xt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAllWithProductChoices();case 2:this.orders=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{OrderTable:Us}},Ls=Vs,qs=Object(K["a"])(Ls,Es,$s,!1,null,null,null),Fs=qs.exports,Hs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Create")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("OrderForm")],1)])])])},Ts=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Create order")])])])}],zs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"needs-validation"},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-12 custom-control"},[r("label",{attrs:{for:"name"}},[t._v("Vendor")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.Order.vendorId,expression:"Order.vendorId"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select",attrs:{name:"vendorId"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.Order,"vendorId",e.target.multiple?r:r[0])},function(e){return t.loadProducts()}]}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Select Vendor")]),t._l(t.vendors,function(e,s){return r("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("vendorId")))]),r("ProductCheckboxList",{attrs:{products:t.products,checkedProducts:t.checkedProducts},on:{productsSelected:t.productsSelected}}),r("input",{directives:[{name:"validate",rawName:"v-validate:length",value:"min_value:1",expression:"'min_value:1'",arg:"length"}],attrs:{type:"hidden",name:"checkedProducts"}})],1)]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6 custom-control"},[r("label",{attrs:{for:"name"}},[t._v("Deadline")]),r("div",[r("flat-pickr",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"deadlineAt",staticClass:"form-control",attrs:{config:t.config,placeholder:"Select date",name:"deadlineAt"},model:{value:t.Order.deadlineAt,callback:function(e){t.$set(t.Order,"deadlineAt",e)},expression:"Order.deadlineAt"}})],1),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("deadlineAt")))])]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"name"}},[t._v("Delivery")]),r("div",[r("flat-pickr",{staticClass:"form-control",attrs:{config:t.config,placeholder:"Select date",name:"deliveryAt"},model:{value:t.Order.deliveryAt,callback:function(e){t.$set(t.Order,"deliveryAt",e)},expression:"Order.deliveryAt"}}),r("div",{staticClass:"invalid-feedback-not-work"},[t._v(t._s(t.errors.first("deliveryAt")))])],1)])]),t.Order.id?t._e():r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("store")}}},[t._v("Create")]),t.Order.id?r("button",{staticClass:"btn btn-warning col-white",attrs:{type:"button",disabled:t.errors.has()},on:{click:function(e){return t.save("update")}}},[t._v("Save")]):t._e()])},Ds=[],Ms=(r("c5f6"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.products?r("ul",{staticClass:"list-group list-group-flush"},t._l(t.products,function(e,s){return r("li",{key:s,staticClass:"list-group-item"},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedProducts,expression:"checkedProducts"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"product-"+s,id:"product-"+s},domProps:{value:e.id,checked:e.active,checked:Array.isArray(t.checkedProducts)?t._i(t.checkedProducts,e.id)>-1:t.checkedProducts},on:{change:[function(r){var s=t.checkedProducts,n=r.target,a=!!n.checked;if(Array.isArray(s)){var i=e.id,o=t._i(s,i);n.checked?o<0&&(t.checkedProducts=s.concat([i])):o>-1&&(t.checkedProducts=s.slice(0,o).concat(s.slice(o+1)))}else t.checkedProducts=a},function(e){return t.onChange()}]}}),r("label",{staticClass:"form-check-label",attrs:{for:"product-"+s}},[t._v(t._s(e.name))])])])}),0):t._e()}),Ys=[],Ws={props:{products:{required:!0},checkedProducts:{required:!0,default:function(){return[]}}},methods:{onChange:function(){this.$emit("productsSelected",this.checkedProducts)}}},Gs=Ws,Bs=Object(K["a"])(Gs,Ms,Ys,!1,null,null,null),Js=Bs.exports,Zs=r("c38f"),Ks=r.n(Zs),Qs={props:{products:{required:!1},Order:{type:Object,required:!1,default:function(){return{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null}}}},data:function(){return{vendors:{},checkedProducts:[],config:{wrap:!0,altFormat:"Y-m-d H:i",altInput:!0,dateFormat:"Z",enableTime:!0,time_24hr:!0},service:new xt,vendorService:new Cr,productService:new kt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.vendorService.getAll();case 2:this.vendors=t.sent,this.loadProducts();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{save:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:r=t.sent,this.sendProducts(),r&&!this.errors.any()&&(this.Order.userId=this.user.id,this.service[e](this.Order).then(function(){s.$router.push("/orders")}));case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),loadProducts:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.productService.getAll(this.Order.vendorId);case 2:e=t.sent,this.products=e,this.checkedProducts=e.filter(function(t){return t.active}).map(function(t){return t.id});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),productsSelected:function(t){this.checkedProducts=t},sendProducts:function(){var t=this;this.products.length&&this.products.map(function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r.active=Number(-1!==t.checkedProducts.indexOf(r.id)),e.next=3,t.productService.update(r);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},computed:{user:function(){return this.$store.getters.user}},watch:{user:function(){void 0===this.Order.id&&(this.Order.userId=this.user.id)}},components:{ProductCheckboxList:Js,flatPickr:Ks.a}},Xs=Qs,tn=(r("6453"),Object(K["a"])(Xs,zs,Ds,!1,null,"756366f5",null)),en=tn.exports,rn={components:{OrderForm:en}},sn=rn,nn=Object(K["a"])(sn,Hs,Ts,!1,null,null,null),an=nn.exports,on=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t._m(0),r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("OrderForm",{attrs:{Order:t.Order}})],1),r("div",{staticClass:"col-sm"})])])])},cn=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v("Edit order")])])])}],ln={data:function(){return{products:null,Order:{vendorId:null,userId:null,deadlineAt:null,deliveryAt:null},service:new xt,productService:new kt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.service.find(this.$route.params.id);case 2:this.Order=t.sent,this.loadProducts();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{loadProducts:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.productService.getAll(this.Order.vendorId);case 2:this.products=t.sent,this.checkedProducts=this.products.filter(function(t){return t.active}).map(function(t){return t.id});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},components:{OrderForm:en}},un=ln,dn=Object(K["a"])(un,on,cn,!1,null,null,null),mn=dn.exports,vn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{staticClass:"d-print-none",attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"OrderEdit",params:{id:this.$route.params.orderId}}}},[t._v("Order")])],1),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Choices")])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-auto mr-auto"}),r("div",{staticClass:"col-auto"},[r("Print",[r("template",{slot:"buttonText"},[t._v("\n          Print Order\n        ")])],2)],1)]),r("hr"),r("div",{staticClass:"row pt-3"},[r("div",{staticClass:"col-sm"},[r("h1",{staticClass:"text-center"},[t._v(t._s(t.vendor&&t.vendor.name)+" "+t._s(t._f("moment")(t.order&&t.order.deliveryAt)))])])]),r("ChoiceTable",{attrs:{choices:t.choices,tableData:t.tableData}})],1)},hn=[],fn=(r("55dd"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.choices.length?r("div",[r("v-client-table",{attrs:{data:t.tableData,columns:t.columns,options:t.options},scopedSlots:t._u([{key:"edit",fn:function(e){return t.user&&"admin"===t.user.role?r("router-link",{staticClass:"btn-action d-inline",attrs:{to:{name:"ChoiceEdit",params:{orderId:e.row.orderId,choiceId:e.row.id}}}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1):t._e()}},{key:"delete",fn:function(e){return t.user&&"admin"===t.user.role?r("a",{staticClass:"btn-action d-inline text-danger",attrs:{href:"#"},on:{click:function(r){return t.remove(e.row.id,e.row.index)}}},[r("font-awesome-icon",{attrs:{icon:"trash"}})],1):t._e()}}],null,!0)})],1):r("div",[r("h4",{staticClass:"text-center"},[t._v("There is no choice!")])])}),pn=[],bn={props:{choices:{required:!0,type:Array},tableData:{required:!0}},data:function(){return{columns:["userFullName","productName","orderComment","edit","delete"],options:{headings:{userFullName:"User",productName:"Product",orderComment:"Comment",edit:"Edit",delete:"Delete"},perPage:30,perPageValues:[10,30,50,100],skin:"table table-sm table-hover table-bordered table-striped"},service:new jt}},methods:{remove:function(t,e){var r=this;this.service.remove(this.$route.params.orderId,t).then(function(){r.choices.splice(e,1)})}},computed:{user:function(){return this.$store.getters.user}}},_n=bn,Cn=Object(K["a"])(_n,fn,pn,!1,null,null,null),wn=Cn.exports,gn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn btn-outline-info text-center",on:{click:function(e){return t.doPrint()}}},[t._t("buttonText"),r("font-awesome-icon",{attrs:{icon:"print"}})],2)},kn=[],jn={name:"Print",methods:{doPrint:function(){window.print()}}},xn=jn,yn=(r("2a8b"),Object(K["a"])(xn,gn,kn,!1,null,"51b9ebcb",null)),On=yn.exports,Pn={data:function(){return{choices:[],tableData:[],vendor:null,order:null,service:new jt,vendorService:new Cr,orderService:new xt}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.orderService.find(this.$route.params.orderId);case 2:return this.order=t.sent,t.next=5,this.vendorService.find(this.order.vendorId);case 5:return this.vendor=t.sent,t.next=8,this.service.getAll(this.$route.params.orderId);case 8:e=t.sent,this.choices=e.sort(function(t,e){return t.productId-e.productId}).map(function(t,e){return ot()({},t,{index:e,userFullName:"".concat(t.user.lastName," ").concat(t.user.firstName),productName:t.product.name})}),this.tableData=this.choices;case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{ChoiceTable:wn,Print:On}},En=Pn,$n=(r("0292"),Object(K["a"])(En,vn,hn,!1,null,null,null)),An=$n.exports;s["default"].use(o["a"]);var Nn,In=new o["a"]({mode:"history",routes:[{path:"*",component:Lt},{path:"/login",name:"Login",component:X,beforeEnter:W.isGuest},{path:"/",name:"Home",component:It,beforeEnter:W.isAuthenticated},{path:"/order",name:"ChoiceAdd",component:Et,beforeEnter:W.isAuthenticated},{path:"/user/my-profile",name:"UserProfile",component:rr,beforeEnter:W.isAuthenticated},{path:"/user/change-password",name:"UserChangePassword",component:hr,beforeEnter:W.isAuthenticated},{path:"/users",name:"UserList",component:Ie,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/users/create",name:"UserCreate",component:Me,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/users/:id/edit",name:"UserEdit",component:Ze,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors",name:"VendorList",component:Pr,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/create",name:"VendorCreate",component:Fr,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:id/edit",name:"VendorEdit",component:Yr,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products",name:"ProductList",component:ss,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products/create",name:"ProductCreate",component:fs,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products/:id/edit",name:"ProductEdit",component:gs,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/vendors/:vendorId/products/:id",name:"ProductShow",component:Ps,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/orders",name:"OrderList",component:Fs,beforeEnter:W.isAuthenticated},{path:"/orders/create",name:"OrderCreate",component:an,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/orders/:id/edit",name:"OrderEdit",component:mn,meta:{adminAuth:!0},beforeEnter:W.isAuthenticated},{path:"/orders/:orderId/choices",name:"ChoiceList",component:An,beforeEnter:W.isAuthenticated},{path:"/orders/:orderId/choices/create",name:"ChoiceCreate",component:re,beforeEnter:W.isAuthenticated},{path:"/orders/:orderId/choices/:choiceId/edit",name:"ChoiceEdit",component:ce,beforeEnter:W.isAuthenticated},{path:"/orders/:id/score",name:"ChoiceScore",component:we,beforeEnter:W.isAuthenticated}]}),Sn=r("a925"),Rn={choices:{saved:"You order has been stored!"},orders:{lack:"There is no restaurants available for today"},errors:{auth:{general:"Sorry, something went wrong"}}},Un={choices:{saved:"Twoje zamównie zostało zapisane!"},errors:{auth:{general:"Coś poszło nie tak, spróbuj ponownie"}},orders:{lack:"Brak wyboru restauracji"}},Vn=(Nn={},Object(b["a"])(Nn,"en",Rn),Object(b["a"])(Nn,"pl",Un),Nn);s["default"].use(Sn["a"]);var Ln=new Sn["a"]({locale:"en",messages:Vn}),qn=(r("6b54"),r("c1df"));s["default"].filter("two_digits",function(t){return t.toString().length<=1?"0"+t.toString():t.toString()}),s["default"].filter("moment",function(t){return t?qn(t).format("DD/MM/YYYY HH:mm"):null});var Fn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header"),r("Notification"),r("main",{attrs:{role:"main"}},[r("router-view")],1),r("Footer")],1)},Hn=[],Tn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("nav",{staticClass:"navbar navbar-expand-md navbar-dark justify-content-between"},[s("router-link",{staticClass:"navbar-brand p-0",attrs:{to:{name:"Home"}}},[s("img",{staticClass:"navbar-logo",attrs:{src:r("9d64"),alt:"logo"}}),t._v(" Forfeater\n    ")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[t.user?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"OrderList"}}},[t._v("Orders")])],1):t._e(),t.user&&"admin"==t.user.role?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"VendorList"}}},[t._v("Vendors")])],1):t._e(),t.user&&"admin"==t.user.role?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserList"}}},[t._v("Users")])],1):t._e(),t.user?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserProfile"}}},[t._v("Profile")])],1):t._e()])]),t.user?s("div",[s("div",{staticClass:"nav-user"},[t._v("\n        Hello,\n        "),s("strong",[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserProfile"}}},[t._v(t._s(t.user.firstName))])],1)]),s("button",{staticClass:"btn btn-outline-light",on:{click:function(e){return t.logout()}}},[t._v("Logout")])]):t._e()],1)])},zn=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}],Dn={methods:{logout:function(){this.$store.dispatch("logout");var t="Home"!==this.$router.currentRoute.name?"Home":"Login";this.$router.push({name:t})}},computed:{user:function(){return this.$store.getters.user}}},Mn=Dn,Yn=(r("282e"),Object(K["a"])(Mn,Tn,zn,!1,null,"46c90655",null)),Wn=Yn.exports,Gn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Bn=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer"},[r("div",{staticClass:"container"},[r("span",{},[t._v("Made by Nodiro Team.")])])])}],Jn={},Zn=Object(K["a"])(Jn,Gn,Bn,!1,null,null,null),Kn=Zn.exports,Qn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.type?r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column"}),r("div",{staticClass:"column is-8"},[r("b-notification",{attrs:{type:t.type,"has-icon":"","auto-close":""},on:{close:function(e){return t.close()}}},[t._v(t._s(t.message))])],1),r("div",{staticClass:"column"})])]):t._e()},Xn=[],ta=s["default"].extend({name:"Notification",data(){return{notification:{type:null,message:null}}},computed:{type(){if(!this.notification)return null;switch(this.notification.type){case"error":return"is-danger";case"warning":return"is-warning";case"success":return"is-success";default:return null}},message(){return this.notification.message}},mounted(){this.$store.watch(function(t){return t.notification},t=>{this.notification=t})},methods:{close(){this.$store.dispatch("removeNotification")}}}),ea=ta,ra=Object(K["a"])(ea,Qn,Xn,!1,null,null,null),sa=ra.exports,na={name:"app",components:{Header:Wn,Footer:Kn,Notification:sa}},aa=na,ia=(r("5c0b"),Object(K["a"])(aa,Fn,Hn,!1,null,null,null)),oa=ia.exports,ca=(r("f9e3"),r("15f5"),r("b2a2"),r("9ebe")),la=r("ecee"),ua=r("c074"),da=r("ad3d");la["c"].add(ua["b"]),la["c"].add(ua["f"]),la["c"].add(ua["c"]),la["c"].add(ua["a"]),la["c"].add(ua["d"]),la["c"].add(ua["e"]),s["default"].component("font-awesome-icon",da["a"]),s["default"].use(i.a,{defaultIconPack:"fas"}),s["default"].use(n["a"]),s["default"].use(ca["ClientTable"],{},!1,"bootstrap4","default"),s["default"].config.productionTip=!1,new s["default"]({el:"#app",router:In,store:z,i18n:Ln,render:function(t){return t(oa)}})},"5c0b":function(t,e,r){"use strict";var s=r("5e27"),n=r.n(s);n.a},"5e27":function(t,e,r){},6453:function(t,e,r){"use strict";var s=r("5102"),n=r.n(s);n.a},"76fc":function(t,e,r){},"9d64":function(t,e,r){t.exports=r.p+"img/logo.44914c2a.png"},b835:function(t,e,r){"use strict";var s=r("76fc"),n=r.n(s);n.a},ba5e:function(t,e,r){"use strict";var s=r("1f99"),n=r.n(s);n.a},f715:function(t,e,r){}});
//# sourceMappingURL=app.1c342376.js.map